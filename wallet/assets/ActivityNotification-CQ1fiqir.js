import{r as b,t as R,j as t,hi as l,bE as v,cj as w,bG as d,gV as h,g$ as k,hj as f,hk as S,hl as x,hm as D,hn as T,cA as m,ho as y,hp as j,hq as A,hr as F,hs as I,b as N,ht as _,an as C,hu as g,hv as O,hw as E,bR as p,c6 as B,h9 as W,bY as H,hx as J,hy as U,hz as q,hA as L,N as M,bS as G,hB as V,hC as Y,hD as z,hE as P,hF as $,hG as K,hH as Q,hI as X,hJ as Z}from"./index-pFCF53l2.js";const wt=(s,n,e,i,a)=>{const[r,c]=b.useState(i?a==null?void 0:a.current:window);return b.useEffect(()=>{if(!s||!r)return;const o=R(()=>{if(!n&&document.documentElement.className!=="is-locked")if(r===window)window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&e();else{const u=r;u.scrollTop>=u.scrollHeight-window.innerHeight-500&&e()}},50);return r.addEventListener("scroll",o),o(),()=>{r.removeEventListener("scroll",o)}},[s,i,r]),c},tt=({tonTransfer:s,timestamp:n,event:e,isScam:i,status:a})=>{const r=C(),{data:c}=w(d.TON),{fiatAmount:o}=h(c,k(s.amount)),u=s.recipient.address===r.rawAddress?"received":"send";return t.jsxs(f,{event:e,children:[t.jsx(g,{isScam:i,amount:s.amount,symbol:d.TON,total:o,timestamp:n,kind:u,status:a}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[u==="received"&&t.jsx(I,{sender:s.sender}),u==="send"&&t.jsx(y,{recipient:s.recipient}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra}),t.jsx(O,{comment:i?void 0:s.comment})]})]})},st=({action:s,timestamp:n,event:e,isScam:i})=>{const{tonTransfer:a}=s;return a?t.jsx(tt,{tonTransfer:a,event:e,isScam:i,timestamp:n,status:s.status}):t.jsx(l,{event:e})},et=({action:s,timestamp:n,event:e})=>{const{t:i}=N(),{auctionBid:a}=s,r=v(),{data:c}=w(d.TON),{fiatAmount:o}=h(c,k((a==null?void 0:a.amount.value)??0));return a?t.jsxs(f,{event:e,children:[t.jsxs("div",{children:[t.jsx(S,{children:i("transaction_type_bid")}),t.jsxs(x,{children:[r(a.amount.value)," ",a.amount.tokenName]}),o&&t.jsxs(x,{children:["≈ ",o]}),t.jsx(D,{kind:"send",timestamp:n}),t.jsx(T,{status:s.status})]}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[t.jsx(_,{beneficiary:a.auction}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra})]})]}):t.jsx(l,{event:e})},nt=({action:s,timestamp:n,event:e})=>{const{domainRenew:i}=s;return i?t.jsxs(f,{event:e,children:[t.jsxs("div",{children:[t.jsx(S,{children:i.domain}),t.jsx(D,{kind:"send",timestamp:n}),t.jsx(T,{status:s.status})]}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[t.jsx(I,{sender:i.renewer,bounced:!0}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra})]})]}):t.jsx(l,{event:e})},it=({action:s,timestamp:n,event:e})=>{const{smartContractExec:i}=s,a=v(),{data:r}=w(d.TON),{fiatAmount:c}=h(r,k((i==null?void 0:i.tonAttached)??0));return i?t.jsxs(f,{event:e,children:[t.jsxs("div",{children:[t.jsxs(S,{children:["- ",a(i.tonAttached)," ",d.TON]}),c&&t.jsxs(x,{children:["≈ ",c]}),t.jsx(D,{kind:"call",timestamp:n}),t.jsx(T,{status:s.status})]}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[t.jsx(y,{recipient:i.contract,bounced:!0}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra}),t.jsx(F,{operation:i.operation})]})]}):t.jsx(l,{event:e})},at=({extraCurrencyTransfer:s,timestamp:n,event:e,isScam:i,status:a})=>{const r=C(),{data:c}=w(s.currency.symbol),{fiatAmount:o}=h(c,k(s.amount,s.currency.decimals)),u=s.recipient.address===r.rawAddress?"received":"send";return t.jsxs(f,{event:e,children:[t.jsx(g,{isScam:i,amount:s.amount,decimals:s.currency.decimals,symbol:s.currency.symbol,total:o,timestamp:n,kind:u,status:a}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[u==="received"&&t.jsx(I,{sender:s.sender}),u==="send"&&t.jsx(y,{recipient:s.recipient}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra}),t.jsx(O,{comment:i?void 0:s.comment})]})]})},rt=({action:s,timestamp:n,event:e,isScam:i})=>{const{extraCurrencyTransfer:a}=s;return a?t.jsx(at,{extraCurrencyTransfer:a,event:e,isScam:i,timestamp:n,status:s.status}):t.jsx(l,{event:e})},ct=({depositStake:s,timestamp:n,event:e,status:i})=>{const{t:a}=N(),{data:r}=w(d.TON),c=v(),{fiatAmount:o}=h(r,k(s.amount));return t.jsxs(f,{event:e,children:[t.jsxs("div",{children:[t.jsx(S,{children:a("staking_deposit")}),t.jsxs(x,{children:["- ",c(s.amount)," ",d.TON]}),t.jsxs(x,{children:["≈ ",o]}),t.jsx(D,{kind:"send",timestamp:n}),t.jsx(T,{status:i})]}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[t.jsx(E,{pool:s.pool}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra})]})]})},ot=({action:s,timestamp:n,event:e,isScam:i})=>{const{depositStake:a}=s;return a?t.jsx(ct,{depositStake:a,timestamp:n,event:e,isScam:i,status:s.status}):t.jsx(l,{event:e})},dt=({withdrawStake:s,timestamp:n,event:e,status:i})=>{const{t:a}=N(),{data:r}=w(d.TON),c=v(),{fiatAmount:o}=h(r,k(s.amount));return t.jsxs(f,{event:e,children:[t.jsxs("div",{children:[t.jsx(S,{children:a("staking_withdraw")}),t.jsxs(x,{children:["+ ",c(s.amount)," ",d.TON]}),t.jsxs(x,{children:["≈ ",o]}),t.jsx(D,{kind:"send",timestamp:n}),t.jsx(T,{status:i})]}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[t.jsx(E,{pool:s.pool}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra})]})]})},ut=({action:s,timestamp:n,event:e,isScam:i})=>{const{withdrawStake:a}=s;return a?t.jsx(dt,{withdrawStake:a,timestamp:n,event:e,isScam:i,status:s.status}):t.jsx(l,{event:e})},lt=({withdrawStakeRequest:s,timestamp:n,event:e,status:i})=>{const{t:a}=N(),{data:r}=w(d.TON),c=v(),{fiatAmount:o}=h(r,k(s.amount??0));return t.jsxs(f,{event:e,children:[t.jsxs("div",{children:[t.jsx(S,{children:a("activityActionModal_withdrawal_request")}),s.amount&&t.jsxs(t.Fragment,{children:[t.jsxs(x,{children:["+ ",c(s.amount)," ",d.TON]}),t.jsxs(x,{children:["≈ ",o]})]}),t.jsx(D,{kind:"send",timestamp:n}),t.jsx(T,{status:i})]}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[t.jsx(E,{pool:s.pool}),t.jsx(j,{eventId:e.eventId}),t.jsx(A,{extra:e.extra})]})]})},xt=({action:s,timestamp:n,event:e,isScam:i})=>{const{withdrawStakeRequest:a}=s;return a?t.jsx(lt,{withdrawStakeRequest:a,timestamp:n,event:e,isScam:i,status:s.status}):t.jsx(l,{event:e})},mt=({transactionHash:s,children:n})=>t.jsx(L,{url:"https://tronscan.org/#/transaction/%s",eventId:s,children:n}),jt=({timestamp:s,event:n})=>{const e=p(),{data:i}=B(),{fiatAmount:a}=h(i,n.assetAmount.relativeAmount),r=n.isScam,c=n.to===e.address?"received":"send";return t.jsxs(mt,{transactionHash:n.transactionHash,children:[t.jsx(g,{isScam:r,decimals:n.assetAmount.asset.decimals,amount:n.assetAmount.weiAmount.toFixed(0),symbol:n.assetAmount.asset.symbol,total:n.assetAmount.asset.address===H.address?a:void 0,timestamp:s,kind:c,status:n.isFailed?W.Failed:W.Ok}),t.jsxs(m,{margin:!1,fullWidth:!0,children:[c==="received"&&t.jsx(J,{address:n.from}),c==="send"&&t.jsx(U,{address:n.to}),t.jsx(j,{eventId:n.transactionHash}),!!n.fee&&t.jsx(q,{fee:n.fee})]})]})},ht=s=>{switch(s.action.type){case"TonTransfer":return t.jsx(st,{...s});case"NftItemTransfer":return t.jsx(Z,{...s});case"ContractDeploy":return t.jsx(X,{...s});case"UnSubscribe":return t.jsx(Q,{...s});case"Subscribe":return t.jsx(K,{...s});case"AuctionBid":return t.jsx(et,{...s});case"DomainRenew":return t.jsx(nt,{...s});case"SmartContractExec":return t.jsx(it,{...s});case"JettonTransfer":return t.jsx($,{...s});case"JettonSwap":return t.jsx(P,{...s});case"JettonMint":return t.jsx(z,{...s});case"JettonBurn":return t.jsx(Y,{...s});case"DepositStake":return t.jsx(ot,{...s});case"WithdrawStake":return t.jsx(ut,{...s});case"WithdrawStakeRequest":return t.jsx(xt,{...s});case"NftPurchase":return t.jsx(V,{...s});case"ExtraCurrencyTransfer":return t.jsx(rt,{...s});case"Unknown":return t.jsx(l,{event:s.event});default:return console.log(s),t.jsx(l,{event:s.event,children:s.action.type})}},ft=s=>{const{t:n}=N();switch(s.event.type){case"asset-transfer":return t.jsx(jt,{...s});default:return G(s.event.type),t.jsx(t.Fragment,{children:n("txActions_signRaw_types_unknownTransaction")})}},kt=({value:s,handleClose:n})=>{const e=b.useCallback(()=>{if(s)return s.type==="tron"?t.jsx(ft,{...s}):t.jsx(ht,{...s})},[s,n]);return t.jsx(M,{isOpen:!!s,handleClose:n,children:e})};export{kt as A,wt as u};
