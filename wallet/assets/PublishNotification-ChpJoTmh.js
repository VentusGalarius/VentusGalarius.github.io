import{b as u,gR as d,r as o,j as s,N as h,R as x,e as j,jO as p,jU as g,di as l,dq as m,L as c,dh as f,iW as C,u as b,cQ as k,dD as _,cq as v,jV as P}from"./index-pFCF53l2.js";const R=i=>{const t=b(),a=k(),e=_();return v([i],async()=>P(t,a,e,i))},A=({signatureHex:i,onClose:t})=>{const{t:a}=u(),{isFetched:e,isError:n}=R(i),r=x();return o.useEffect(()=>{(n||e)&&setTimeout(()=>{t(),r(j.activity)},2e3)},[n,e]),s.jsx(p,{standalone:!1,fitContent:!0,children:s.jsxs(g,{children:[e&&!n&&s.jsxs(l,{done:!0,children:[s.jsx(m,{}),s.jsx(c,{children:a("send_screen_steps_done_done_label")})]}),e&&n&&s.jsxs(l,{children:[s.jsx(f,{}),s.jsx(c,{children:a("send_publish_tx_error")})]}),!e&&!n&&s.jsx(C,{isLoading:!0,isDisabled:!0,onClick:()=>Promise.resolve(!1),onClose:t})]})})},E=()=>{const{t:i}=u(),[t,a]=d(),e=t.get("sign"),n=o.useCallback(()=>{t.delete("sign"),a(t)},[t,a]),r=o.useCallback(()=>e?s.jsx(A,{signatureHex:e,onClose:n}):s.jsx(s.Fragment,{}),[e,n]);return s.jsx(h,{isOpen:e!=null,handleClose:n,title:i("publish_message"),children:r})};export{E as default};
