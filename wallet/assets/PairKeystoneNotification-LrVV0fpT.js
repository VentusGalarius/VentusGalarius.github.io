import{jz as Ra,d as N,jA as ft,jB as Pi,el as de,jC as Q,jD as ye,jE as Ta,jF as Ca,jG as Sa,jH as ba,jI as wa,jJ as Ea,jK as Oa,an as Da,b as Ia,a as Pa,r as J,jL as Ba,l as Aa,j as ae,fF as Ma,aS as Na,u as La,N as qa}from"./index-pFCF53l2.js";import{r as Ua,H as xa,B as Ka,K as ja}from"./AccountView-Bo-IhVAj.js";import{u as Ha}from"./navigate-B9cT6U16.js";import"./index-B0JA3rv4.js";import"./TransitionGroup-Ba4hsFgp.js";var _e={},Lt={exports:{}},qt={},Ut={},Tr=function(t,o){return Tr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var s in v)Object.prototype.hasOwnProperty.call(v,s)&&(l[s]=v[s])},Tr(t,o)};function Bi(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");Tr(t,o);function l(){this.constructor=t}t.prototype=o===null?Object.create(o):(l.prototype=o.prototype,new l)}var mt=function(){return mt=Object.assign||function(o){for(var l,v=1,s=arguments.length;v<s;v++){l=arguments[v];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(o[n]=l[n])}return o},mt.apply(this,arguments)};function Ai(t,o){var l={};for(var v in t)Object.prototype.hasOwnProperty.call(t,v)&&o.indexOf(v)<0&&(l[v]=t[v]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,v=Object.getOwnPropertySymbols(t);s<v.length;s++)o.indexOf(v[s])<0&&Object.prototype.propertyIsEnumerable.call(t,v[s])&&(l[v[s]]=t[v[s]]);return l}function Mi(t,o,l,v){var s=arguments.length,n=s<3?o:v===null?v=Object.getOwnPropertyDescriptor(o,l):v,e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,o,l,v);else for(var u=t.length-1;u>=0;u--)(e=t[u])&&(n=(s<3?e(n):s>3?e(o,l,n):e(o,l))||n);return s>3&&n&&Object.defineProperty(o,l,n),n}function Ni(t,o){return function(l,v){o(l,v,t)}}function Fa(t,o,l,v,s,n){function e(i){if(i!==void 0&&typeof i!="function")throw new TypeError("Function expected");return i}for(var u=v.kind,h=u==="getter"?"get":u==="setter"?"set":"value",d=!o&&t?v.static?t:t.prototype:null,f=o||(d?Object.getOwnPropertyDescriptor(d,v.name):{}),y,_=!1,r=l.length-1;r>=0;r--){var p={};for(var a in v)p[a]=a==="access"?{}:v[a];for(var a in v.access)p.access[a]=v.access[a];p.addInitializer=function(i){if(_)throw new TypeError("Cannot add initializers after decoration has completed");n.push(e(i||null))};var c=(0,l[r])(u==="accessor"?{get:f.get,set:f.set}:f[h],p);if(u==="accessor"){if(c===void 0)continue;if(c===null||typeof c!="object")throw new TypeError("Object expected");(y=e(c.get))&&(f.get=y),(y=e(c.set))&&(f.set=y),(y=e(c.init))&&s.unshift(y)}else(y=e(c))&&(u==="field"?s.unshift(y):f[h]=y)}d&&Object.defineProperty(d,v.name,f),_=!0}function ka(t,o,l){for(var v=arguments.length>2,s=0;s<o.length;s++)l=v?o[s].call(t,l):o[s].call(t);return v?l:void 0}function Xa(t){return typeof t=="symbol"?t:"".concat(t)}function $a(t,o,l){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:l?"".concat(l," ",o):o})}function Li(t,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,o)}function qi(t,o,l,v){function s(n){return n instanceof l?n:new l(function(e){e(n)})}return new(l||(l=Promise))(function(n,e){function u(f){try{d(v.next(f))}catch(y){e(y)}}function h(f){try{d(v.throw(f))}catch(y){e(y)}}function d(f){f.done?n(f.value):s(f.value).then(u,h)}d((v=v.apply(t,o||[])).next())})}function Ui(t,o){var l={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},v,s,n,e;return e={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e;function u(d){return function(f){return h([d,f])}}function h(d){if(v)throw new TypeError("Generator is already executing.");for(;e&&(e=0,d[0]&&(l=0)),l;)try{if(v=1,s&&(n=d[0]&2?s.return:d[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,d[1])).done)return n;switch(s=0,n&&(d=[d[0]&2,n.value]),d[0]){case 0:case 1:n=d;break;case 4:return l.label++,{value:d[1],done:!1};case 5:l.label++,s=d[1],d=[0];continue;case 7:d=l.ops.pop(),l.trys.pop();continue;default:if(n=l.trys,!(n=n.length>0&&n[n.length-1])&&(d[0]===6||d[0]===2)){l=0;continue}if(d[0]===3&&(!n||d[1]>n[0]&&d[1]<n[3])){l.label=d[1];break}if(d[0]===6&&l.label<n[1]){l.label=n[1],n=d;break}if(n&&l.label<n[2]){l.label=n[2],l.ops.push(d);break}n[2]&&l.ops.pop(),l.trys.pop();continue}d=o.call(t,l)}catch(f){d=[6,f],s=0}finally{v=n=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var St=Object.create?function(t,o,l,v){v===void 0&&(v=l);var s=Object.getOwnPropertyDescriptor(o,l);(!s||("get"in s?!o.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return o[l]}}),Object.defineProperty(t,v,s)}:function(t,o,l,v){v===void 0&&(v=l),t[v]=o[l]};function xi(t,o){for(var l in t)l!=="default"&&!Object.prototype.hasOwnProperty.call(o,l)&&St(o,t,l)}function Rt(t){var o=typeof Symbol=="function"&&Symbol.iterator,l=o&&t[o],v=0;if(l)return l.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&v>=t.length&&(t=void 0),{value:t&&t[v++],done:!t}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(t,o){var l=typeof Symbol=="function"&&t[Symbol.iterator];if(!l)return t;var v=l.call(t),s,n=[],e;try{for(;(o===void 0||o-- >0)&&!(s=v.next()).done;)n.push(s.value)}catch(u){e={error:u}}finally{try{s&&!s.done&&(l=v.return)&&l.call(v)}finally{if(e)throw e.error}}return n}function Ki(){for(var t=[],o=0;o<arguments.length;o++)t=t.concat(Or(arguments[o]));return t}function ji(){for(var t=0,o=0,l=arguments.length;o<l;o++)t+=arguments[o].length;for(var v=Array(t),s=0,o=0;o<l;o++)for(var n=arguments[o],e=0,u=n.length;e<u;e++,s++)v[s]=n[e];return v}function Hi(t,o,l){if(l||arguments.length===2)for(var v=0,s=o.length,n;v<s;v++)(n||!(v in o))&&(n||(n=Array.prototype.slice.call(o,0,v)),n[v]=o[v]);return t.concat(n||Array.prototype.slice.call(o))}function he(t){return this instanceof he?(this.v=t,this):new he(t)}function Fi(t,o,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v=l.apply(t,o||[]),s,n=[];return s={},e("next"),e("throw"),e("return"),s[Symbol.asyncIterator]=function(){return this},s;function e(_){v[_]&&(s[_]=function(r){return new Promise(function(p,a){n.push([_,r,p,a])>1||u(_,r)})})}function u(_,r){try{h(v[_](r))}catch(p){y(n[0][3],p)}}function h(_){_.value instanceof he?Promise.resolve(_.value.v).then(d,f):y(n[0][2],_)}function d(_){u("next",_)}function f(_){u("throw",_)}function y(_,r){_(r),n.shift(),n.length&&u(n[0][0],n[0][1])}}function ki(t){var o,l;return o={},v("next"),v("throw",function(s){throw s}),v("return"),o[Symbol.iterator]=function(){return this},o;function v(s,n){o[s]=t[s]?function(e){return(l=!l)?{value:he(t[s](e)),done:!1}:n?n(e):e}:n}}function Xi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t[Symbol.asyncIterator],l;return o?o.call(t):(t=typeof Rt=="function"?Rt(t):t[Symbol.iterator](),l={},v("next"),v("throw"),v("return"),l[Symbol.asyncIterator]=function(){return this},l);function v(n){l[n]=t[n]&&function(e){return new Promise(function(u,h){e=t[n](e),s(u,h,e.done,e.value)})}}function s(n,e,u,h){Promise.resolve(h).then(function(d){n({value:d,done:u})},e)}}function $i(t,o){return Object.defineProperty?Object.defineProperty(t,"raw",{value:o}):t.raw=o,t}var Va=Object.create?function(t,o){Object.defineProperty(t,"default",{enumerable:!0,value:o})}:function(t,o){t.default=o};function Vi(t){if(t&&t.__esModule)return t;var o={};if(t!=null)for(var l in t)l!=="default"&&Object.prototype.hasOwnProperty.call(t,l)&&St(o,t,l);return Va(o,t),o}function Wi(t){return t&&t.__esModule?t:{default:t}}function Gi(t,o,l,v){if(l==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?t!==o||!v:!o.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?v:l==="a"?v.call(t):v?v.value:o.get(t)}function Yi(t,o,l,v,s){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?t!==o||!s:!o.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?s.call(t,l):s?s.value=l:o.set(t,l),l}function Zi(t,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?o===t:t.has(o)}function Qi(t,o,l){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var v;if(l){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");v=o[Symbol.asyncDispose]}if(v===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");v=o[Symbol.dispose]}if(typeof v!="function")throw new TypeError("Object not disposable.");t.stack.push({value:o,dispose:v,async:l})}else l&&t.stack.push({async:!0});return o}var Wa=typeof SuppressedError=="function"?SuppressedError:function(t,o,l){var v=new Error(l);return v.name="SuppressedError",v.error=t,v.suppressed=o,v};function Ji(t){function o(v){t.error=t.hasError?new Wa(v,t.error,"An error was suppressed during disposal."):v,t.hasError=!0}function l(){for(;t.stack.length;){var v=t.stack.pop();try{var s=v.dispose&&v.dispose.call(v.value);if(v.async)return Promise.resolve(s).then(l,function(n){return o(n),l()})}catch(n){o(n)}}if(t.hasError)throw t.error}return l()}const Ga={__extends:Bi,__assign:mt,__rest:Ai,__decorate:Mi,__param:Ni,__metadata:Li,__awaiter:qi,__generator:Ui,__createBinding:St,__exportStar:xi,__values:Rt,__read:Or,__spread:Ki,__spreadArrays:ji,__spreadArray:Hi,__await:he,__asyncGenerator:Fi,__asyncDelegator:ki,__asyncValues:Xi,__makeTemplateObject:$i,__importStar:Vi,__importDefault:Wi,__classPrivateFieldGet:Gi,__classPrivateFieldSet:Yi,__classPrivateFieldIn:Zi,__addDisposableResource:Qi,__disposeResources:Ji},Ya=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Qi,get __assign(){return mt},__asyncDelegator:ki,__asyncGenerator:Fi,__asyncValues:Xi,__await:he,__awaiter:qi,__classPrivateFieldGet:Gi,__classPrivateFieldIn:Zi,__classPrivateFieldSet:Yi,__createBinding:St,__decorate:Mi,__disposeResources:Ji,__esDecorate:Fa,__exportStar:xi,__extends:Bi,__generator:Ui,__importDefault:Wi,__importStar:Vi,__makeTemplateObject:$i,__metadata:Li,__param:Ni,__propKey:Xa,__read:Or,__rest:Ai,__runInitializers:ka,__setFunctionName:$a,__spread:Ki,__spreadArray:Hi,__spreadArrays:ji,__values:Rt,default:Ga},Symbol.toStringTag,{value:"Module"})),Za=Ra(Ya);var xt={},me={},Kt={},_t={exports:{}},Re={},Nr;function Dr(){if(Nr)return Re;Nr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.DataItem=void 0;let t=class{constructor(l,v){this.setTag=s=>{this.tag=s},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=l,this.tag=v}};return Re.DataItem=t,Re}var Qa=_t.exports,Lr;function Ja(){return Lr||(Lr=1,function(t){(function(o,l){t.exports?t.exports=l():o.CBOR=l()})(Qa,function(){const{DataItem:o}=Dr();var l=function(){function v(m){this.$hex=m}v.prototype={length:function(){return this.$hex.length/2},toString:function(m){if(!m||m==="hex"||m===16)return this.$hex;if(m==="utf-8"){for(var S="",E=0;E<this.$hex.length;E+=2)S+="%"+this.$hex.substring(E,E+2);return decodeURIComponent(S)}if(m==="latin"){for(var S=[],E=0;E<this.$hex.length;E+=2)S.push(parseInt(this.$hex.substring(E,E+2),16));return String.fromCharCode.apply(String,S)}throw new Error("Unrecognised format: "+m)}},v.fromLatinString=function(m){for(var S="",E=0;E<m.length;E++){var P=m.charCodeAt(E).toString(16);P.length===1&&(P="0"+P),S+=P}return new v(S)},v.fromUtf8String=function(m){for(var S=encodeURIComponent(m),E="",P=0;P<S.length;P++)if(S.charAt(P)==="%")E+=S.substring(P+1,P+3),P+=2;else{var M=S.charCodeAt(P).toString(16);M.length<2&&(M="0"+M),E+=M}return new v(E)};var s=[],n={},e=function(m){return function(){throw new Error(m+" not implemented")}};function u(){}u.prototype={peekByte:e("peekByte"),readByte:e("readByte"),readChunk:e("readChunk"),readFloat16:function(){var m=this.readUint16(),S=(m&32767)>>10,E=m&1023,P=m&32768;if(S===31)return E===0?P?-1/0:1/0:NaN;var M=S?Math.pow(2,S-25)*(1024+E):Math.pow(2,-24)*E;return P?-M:M},readFloat32:function(){var m=this.readUint32(),S=(m&2147483647)>>23,E=m&8388607,P=m&2147483648;if(S===255)return E===0?P?-1/0:1/0:NaN;var M=S?Math.pow(2,S-23-127)*(8388608+E):Math.pow(2,-149)*E;return P?-M:M},readFloat64:function(){var m=this.readUint32(),S=this.readUint32(),E=m>>20&2047,P=(m&1048575)*4294967296+S,M=m&2147483648;if(E===2047)return P===0?M?-1/0:1/0:NaN;var j=E?Math.pow(2,E-52-1023)*(4503599627370496+P):Math.pow(2,-1074)*P;return M?-j:j},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function h(){}h.prototype={writeByte:e("writeByte"),result:e("result"),writeFloat16:e("writeFloat16"),writeFloat32:e("writeFloat32"),writeFloat64:e("writeFloat64"),writeUint16:function(m){this.writeByte(m>>8&255),this.writeByte(m&255)},writeUint32:function(m){this.writeUint16(m>>16&65535),this.writeUint16(m&65535)},writeUint64:function(m){if(m>=9007199254740992||m<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+m+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(m/4294967296)),this.writeUint32(m%4294967296)},writeString:e("writeString"),canWriteBinary:function(m){return!1},writeBinary:e("writeChunk")};function d(m){var S=m.readByte(),E=S>>5,P=S&31;return{type:E,value:P}}function f(m,S){var E=m.value;if(E<24)return E;if(E==24)return S.readByte();if(E==25)return S.readUint16();if(E==26)return S.readUint32();if(E==27)return S.readUint64();if(E==31)return null;e("Additional info: "+E)()}function y(m,S,E){E.writeByte(m<<5|S)}function _(m,S,E){var P=m<<5;S<24?E.writeByte(P|S):S<256?(E.writeByte(P|24),E.writeByte(S)):S<65536?(E.writeByte(P|25),E.writeUint16(S)):S<4294967296?(E.writeByte(P|26),E.writeUint32(S)):(E.writeByte(P|27),E.writeUint64(S))}var r=new Error;function p(m){var S=d(m);switch(S.type){case 0:return f(S,m);case 1:return-1-f(S,m);case 2:return m.readChunk(f(S,m));case 3:var E=m.readChunk(f(S,m));return E.toString("utf-8");case 4:case 5:var P=f(S,m),$=[];if(P!==null){S.type===5&&(P*=2);for(var M=0;M<P;M++)$[M]=p(m)}else for(var j;(j=p(m))!==r;)$.push(j);if(S.type===5){for(var U={},M=0;M<$.length;M+=2)U[$[M]]=$[M+1];return U}else return $;case 6:var W=f(S,m),G=n[W],$=p(m);return G?G($):$;case 7:if(S.value===25)return m.readFloat16();if(S.value===26)return m.readFloat32();if(S.value===27)return m.readFloat64();switch(f(S,m)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return r;default:throw new Error("Unknown fixed value: "+S.value)}default:throw new Error("Unsupported header: "+JSON.stringify(S))}throw new Error("not implemented yet")}function a(m,S){for(var E=0;E<s.length;E++){var P=s[E].fn(m);if(P!==void 0)return _(6,s[E].tag,S),a(P,S)}if(m&&typeof m.toCBOR=="function"&&(m=m.toCBOR()),m===!1)_(7,20,S);else if(m===!0)_(7,21,S);else if(m===null)_(7,22,S);else if(m===void 0)_(7,23,S);else if(typeof m=="number")Math.floor(m)===m&&m<9007199254740992&&m>-9007199254740992?m<0?_(1,-1-m,S):_(0,m,S):(y(7,27,S),S.writeFloat64(m));else if(typeof m=="string")S.writeString(m,function(j){_(3,j,S)});else if(S.canWriteBinary(m))S.writeBinary(m,function(j){_(2,j,S)});else if(typeof m=="object")if(g.config.useToJSON&&typeof m.toJSON=="function"&&(m=m.toJSON()),Array.isArray(m)){_(4,m.length,S);for(var E=0;E<m.length;E++)a(m[E],S)}else{var M=Object.keys(m);_(5,M.length,S);for(var E=0;E<M.length;E++){const U=parseInt(M[E]);isNaN(U)?(a(M[E],S),a(m[M[E]],S)):(a(U,S),a(m[M[E]],S))}}else throw new Error("CBOR encoding not supported: "+m)}var c=[],i=[],g={config:{useToJSON:!0},addWriter:function(m,S){typeof m=="string"?i.push(function(E){if(m===E)return S(E)}):i.push(m)},addReader:function(m,S){typeof m=="string"?c.push(function(E,P){if(m===P)return S(E,P)}):c.push(m)},encode:function(m,S){for(var E=0;E<i.length;E++){var P=i[E],M=P(S);if(M)return a(m,M),M.result()}throw new Error("Unsupported output format: "+S)},encodeDataItem:function(m,S){for(var E=0;E<i.length;E++){var P=i[E],M=P(S);if(M)return m.getTag()!==void 0?(a(m,M),M.result()):(a(m.getData(),M),M.result())}throw new Error("Unsupported output format: "+S)},decode:function(m,S){for(var E=0;E<c.length;E++){var P=c[E],M=P(m,S);if(M)return p(M)}throw new Error("Unsupported input format: "+S)},decodeToDataItem:function(m,S){for(var E=0;E<c.length;E++){var P=c[E],M=P(m,S);if(M){const j=p(M);return j instanceof o?j:new o(j)}}throw new Error("Unsupported input format: "+S)},addSemanticEncode:function(m,S){if(typeof m!="number"||m%1!==0||m<0)throw new Error("Tag must be a positive integer");return s.push({tag:m,fn:S}),this},addSemanticDecode:function(m,S){if(typeof m!="number"||m%1!==0||m<0)throw new Error("Tag must be a positive integer");return n[m]=S,this}};function R(m){this.buffer=m,this.pos=0}R.prototype=Object.create(u.prototype),R.prototype.peekByte=function(){return this.buffer[this.pos]},R.prototype.readByte=function(){return this.buffer[this.pos++]},R.prototype.readUint16=function(){var m=this.buffer.readUInt16BE(this.pos);return this.pos+=2,m},R.prototype.readUint32=function(){var m=this.buffer.readUInt32BE(this.pos);return this.pos+=4,m},R.prototype.readFloat32=function(){var m=this.buffer.readFloatBE(this.pos);return this.pos+=4,m},R.prototype.readFloat64=function(){var m=this.buffer.readDoubleBE(this.pos);return this.pos+=8,m},R.prototype.readChunk=function(m){var S=N.Buffer.alloc(m);return this.buffer.copy(S,0,this.pos,this.pos+=m),S};function w(m){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=N.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=m}w.prototype=Object.create(h.prototype),w.prototype.writeByte=function(m){this.latestBuffer[this.latestBufferOffset++]=m,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=N.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},w.prototype.writeFloat32=function(m){var S=N.Buffer.alloc(4);S.writeFloatBE(m,0),this.writeBuffer(S)},w.prototype.writeFloat64=function(m){var S=N.Buffer.alloc(8);S.writeDoubleBE(m,0),this.writeBuffer(S)},w.prototype.writeString=function(m,S){var E=N.Buffer.from(m,"utf-8");S(E.length),this.writeBuffer(E)},w.prototype.canWriteBinary=function(m){return m instanceof N.Buffer},w.prototype.writeBinary=function(m,S){S(m.length),this.writeBuffer(m)},w.prototype.writeBuffer=function(m){if(!(m instanceof N.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=m.length?(m.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=m.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=N.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(m),this.latestBuffer=N.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(m),this.byteLength+=m.length},w.prototype.result=function(){for(var m=N.Buffer.alloc(this.byteLength),S=0,E=0;E<this.completeBuffers.length;E++){var P=this.completeBuffers[E];P.copy(m,S,0,P.length),S+=P.length}return this.latestBufferOffset&&this.latestBuffer.copy(m,S,0,this.latestBufferOffset),this.stringFormat?m.toString(this.stringFormat):m},typeof N.Buffer=="function"&&(g.addReader(function(m,S){if(N.Buffer.isBuffer(m))return new R(m);if(S==="hex"||S==="base64"){var E=N.Buffer.from(m,S);return new R(E)}}),g.addWriter(function(m){if(!m||m==="buffer")return new w;if(m==="hex"||m==="base64")return new w(m)}));function b(m){this.hex=m,this.pos=0}b.prototype=Object.create(u.prototype),b.prototype.peekByte=function(){var m=this.hex.substring(this.pos,2);return parseInt(m,16)},b.prototype.readByte=function(){var m=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(m,16)},b.prototype.readChunk=function(m){var S=this.hex.substring(this.pos,this.pos+m*2);return this.pos+=m*2,typeof N.Buffer=="function"?N.Buffer.from(S,"hex"):new v(S)};function O(m){this.$hex="",this.finalFormat=m||"hex"}return O.prototype=Object.create(h.prototype),O.prototype.writeByte=function(m){if(m<0||m>255)throw new Error("Byte value out of range: "+m);var S=m.toString(16);S.length==1&&(S="0"+S),this.$hex+=S},O.prototype.canWriteBinary=function(m){return m instanceof v||typeof N.Buffer=="function"&&m instanceof N.Buffer},O.prototype.writeBinary=function(m,S){if(m instanceof v)S(m.length()),this.$hex+=m.$hex;else if(typeof N.Buffer=="function"&&m instanceof N.Buffer)S(m.length),this.$hex+=m.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},O.prototype.result=function(){return this.finalFormat==="buffer"&&typeof N.Buffer=="function"?N.Buffer.from(this.$hex,"hex"):new v(this.$hex).toString(this.finalFormat)},O.prototype.writeString=function(m,S){var E=v.fromUtf8String(m);S(E.length()),this.$hex+=E.$hex},g.addReader(function(m,S){if(m instanceof v||m.$hex)return new b(m.$hex);if(S==="hex")return new b(m)}),g.addWriter(function(m){if(m==="hex")return new O}),g}();return l.addSemanticEncode(0,function(v){if(v instanceof Date)return v.toISOString()}).addSemanticDecode(0,function(v){return new Date(v)}).addSemanticDecode(1,function(v){return new Date(v)}),l})}(_t)),_t.exports}var qr;function k(){return qr||(qr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DataItem=t.addWriter=t.addReader=t.addSemanticEncode=t.addSemanticDecode=t.decodeToDataItem=t.encodeDataItem=void 0;var o=Ja();Object.defineProperty(t,"encodeDataItem",{enumerable:!0,get:function(){return o.encodeDataItem}}),Object.defineProperty(t,"decodeToDataItem",{enumerable:!0,get:function(){return o.decodeToDataItem}}),Object.defineProperty(t,"addSemanticDecode",{enumerable:!0,get:function(){return o.addSemanticDecode}}),Object.defineProperty(t,"addSemanticEncode",{enumerable:!0,get:function(){return o.addSemanticEncode}}),Object.defineProperty(t,"addReader",{enumerable:!0,get:function(){return o.addReader}}),Object.defineProperty(t,"addWriter",{enumerable:!0,get:function(){return o.addWriter}});var l=Dr();Object.defineProperty(t,"DataItem",{enumerable:!0,get:function(){return l.DataItem}})}(Kt)),Kt}var Ur;function Cr(){if(Ur)return me;Ur=1,Object.defineProperty(me,"__esModule",{value:!0}),me.patchTags=void 0;const t=k(),o=[],l=v=>{v.forEach(s=>{o.find(n=>n===s)||((0,t.addSemanticEncode)(s,n=>{if(n instanceof t.DataItem&&n.getTag()===s)return n.getData()}),(0,t.addSemanticDecode)(s,n=>new t.DataItem(n,s)),o.push(s))})};return me.patchTags=l,me}var ne={},xr;function X(){if(xr)return ne;xr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.RegistryTypes=ne.RegistryType=void 0;let t=class{constructor(l,v){this.type=l,this.tag=v,this.getTag=()=>this.tag,this.getType=()=>this.type}};return ne.RegistryType=t,ne.RegistryTypes={UUID:new t("uuid",37),BYTES:new t("bytes",void 0),CRYPTO_HDKEY:new t("crypto-hdkey",303),CRYPTO_KEYPATH:new t("crypto-keypath",304),CRYPTO_COIN_INFO:new t("crypto-coin-info",305),CRYPTO_ECKEY:new t("crypto-eckey",306),CRYPTO_OUTPUT:new t("crypto-output",308),CRYPTO_PSBT:new t("crypto-psbt",310),CRYPTO_ACCOUNT:new t("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new t("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new t("qr-hardware-call",1201),KEY_DERIVATION_CALL:new t("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new t("key-derivation-schema",1302)},ne}var jt={},Kr;function Ir(){return Kr||(Kr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptExpressions=t.ScriptExpression=void 0;class o{constructor(v,s){this.tag=v,this.expression=s,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}}t.ScriptExpression=o,o.fromTag=l=>Object.values(t.ScriptExpressions).find(s=>s.getTag()===l),t.ScriptExpressions={SCRIPT_HASH:new o(400,"sh"),WITNESS_SCRIPT_HASH:new o(401,"wsh"),PUBLIC_KEY:new o(402,"pk"),PUBLIC_KEY_HASH:new o(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new o(404,"wpkh"),COMBO:new o(405,"combo"),MULTISIG:new o(406,"multi"),SORTED_MULTISIG:new o(407,"sortedmulti"),ADDRESS:new o(307,"addr"),RAW_SCRIPT:new o(408,"raw")}}(jt)),jt}var jr;function Hr(){if(jr)return xt;jr=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=Cr(),o=X(),l=Ir(),v=Object.values(o.RegistryTypes).filter(n=>!!n.getTag()).map(n=>n.getTag()),s=Object.values(l.ScriptExpressions).map(n=>n.getTag());return(0,t.patchTags)(v.concat(s)),xt}var Te={},pt={exports:{}},yt={exports:{}},Fr;function zi(){if(Fr)return yt.exports;Fr=1;var t=typeof Reflect=="object"?Reflect:null,o=t&&typeof t.apply=="function"?t.apply:function(b,O,m){return Function.prototype.apply.call(b,O,m)},l;t&&typeof t.ownKeys=="function"?l=t.ownKeys:Object.getOwnPropertySymbols?l=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:l=function(b){return Object.getOwnPropertyNames(b)};function v(w){console&&console.warn&&console.warn(w)}var s=Number.isNaN||function(b){return b!==b};function n(){n.init.call(this)}yt.exports=n,yt.exports.once=i,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var e=10;function u(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return e},set:function(w){if(typeof w!="number"||w<0||s(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");e=w}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||s(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function h(w){return w._maxListeners===void 0?n.defaultMaxListeners:w._maxListeners}n.prototype.getMaxListeners=function(){return h(this)},n.prototype.emit=function(b){for(var O=[],m=1;m<arguments.length;m++)O.push(arguments[m]);var S=b==="error",E=this._events;if(E!==void 0)S=S&&E.error===void 0;else if(!S)return!1;if(S){var P;if(O.length>0&&(P=O[0]),P instanceof Error)throw P;var M=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw M.context=P,M}var j=E[b];if(j===void 0)return!1;if(typeof j=="function")o(j,this,O);else for(var U=j.length,W=p(j,U),m=0;m<U;++m)o(W[m],this,O);return!0};function d(w,b,O,m){var S,E,P;if(u(O),E=w._events,E===void 0?(E=w._events=Object.create(null),w._eventsCount=0):(E.newListener!==void 0&&(w.emit("newListener",b,O.listener?O.listener:O),E=w._events),P=E[b]),P===void 0)P=E[b]=O,++w._eventsCount;else if(typeof P=="function"?P=E[b]=m?[O,P]:[P,O]:m?P.unshift(O):P.push(O),S=h(w),S>0&&P.length>S&&!P.warned){P.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=w,M.type=b,M.count=P.length,v(M)}return w}n.prototype.addListener=function(b,O){return d(this,b,O,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(b,O){return d(this,b,O,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(w,b,O){var m={fired:!1,wrapFn:void 0,target:w,type:b,listener:O},S=f.bind(m);return S.listener=O,m.wrapFn=S,S}n.prototype.once=function(b,O){return u(O),this.on(b,y(this,b,O)),this},n.prototype.prependOnceListener=function(b,O){return u(O),this.prependListener(b,y(this,b,O)),this},n.prototype.removeListener=function(b,O){var m,S,E,P,M;if(u(O),S=this._events,S===void 0)return this;if(m=S[b],m===void 0)return this;if(m===O||m.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete S[b],S.removeListener&&this.emit("removeListener",b,m.listener||O));else if(typeof m!="function"){for(E=-1,P=m.length-1;P>=0;P--)if(m[P]===O||m[P].listener===O){M=m[P].listener,E=P;break}if(E<0)return this;E===0?m.shift():a(m,E),m.length===1&&(S[b]=m[0]),S.removeListener!==void 0&&this.emit("removeListener",b,M||O)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(b){var O,m,S;if(m=this._events,m===void 0)return this;if(m.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):m[b]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete m[b]),this;if(arguments.length===0){var E=Object.keys(m),P;for(S=0;S<E.length;++S)P=E[S],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=m[b],typeof O=="function")this.removeListener(b,O);else if(O!==void 0)for(S=O.length-1;S>=0;S--)this.removeListener(b,O[S]);return this};function _(w,b,O){var m=w._events;if(m===void 0)return[];var S=m[b];return S===void 0?[]:typeof S=="function"?O?[S.listener||S]:[S]:O?c(S):p(S,S.length)}n.prototype.listeners=function(b){return _(this,b,!0)},n.prototype.rawListeners=function(b){return _(this,b,!1)},n.listenerCount=function(w,b){return typeof w.listenerCount=="function"?w.listenerCount(b):r.call(w,b)},n.prototype.listenerCount=r;function r(w){var b=this._events;if(b!==void 0){var O=b[w];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function p(w,b){for(var O=new Array(b),m=0;m<b;++m)O[m]=w[m];return O}function a(w,b){for(;b+1<w.length;b++)w[b]=w[b+1];w.pop()}function c(w){for(var b=new Array(w.length),O=0;O<b.length;++O)b[O]=w[O].listener||w[O];return b}function i(w,b){return new Promise(function(O,m){function S(P){w.removeListener(b,E),m(P)}function E(){typeof w.removeListener=="function"&&w.removeListener("error",S),O([].slice.call(arguments))}R(w,b,E,{once:!0}),b!=="error"&&g(w,S,{once:!0})})}function g(w,b,O){typeof w.on=="function"&&R(w,"error",b,O)}function R(w,b,O,m){if(typeof w.on=="function")m.once?w.once(b,O):w.on(b,O);else if(typeof w.addEventListener=="function")w.addEventListener(b,function S(E){m.once&&w.removeEventListener(b,S),O(E)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return yt.exports}var Ht,kr;function ea(){return kr||(kr=1,Ht=zi().EventEmitter),Ht}var Ft,Xr;function za(){if(Xr)return Ft;Xr=1;function t(p,a){var c=Object.keys(p);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(p);a&&(i=i.filter(function(g){return Object.getOwnPropertyDescriptor(p,g).enumerable})),c.push.apply(c,i)}return c}function o(p){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?t(Object(c),!0).forEach(function(i){l(p,i,c[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach(function(i){Object.defineProperty(p,i,Object.getOwnPropertyDescriptor(c,i))})}return p}function l(p,a,c){return a=e(a),a in p?Object.defineProperty(p,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):p[a]=c,p}function v(p,a){if(!(p instanceof a))throw new TypeError("Cannot call a class as a function")}function s(p,a){for(var c=0;c<a.length;c++){var i=a[c];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(p,e(i.key),i)}}function n(p,a,c){return a&&s(p.prototype,a),Object.defineProperty(p,"prototype",{writable:!1}),p}function e(p){var a=u(p,"string");return typeof a=="symbol"?a:String(a)}function u(p,a){if(typeof p!="object"||p===null)return p;var c=p[Symbol.toPrimitive];if(c!==void 0){var i=c.call(p,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}var h=ft(),d=h.Buffer,f=Pi,y=f.inspect,_=y&&y.custom||"inspect";function r(p,a,c){d.prototype.copy.call(p,a,c)}return Ft=function(){function p(){v(this,p),this.head=null,this.tail=null,this.length=0}return n(p,[{key:"push",value:function(c){var i={data:c,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(c){var i={data:c,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c){if(this.length===0)return"";for(var i=this.head,g=""+i.data;i=i.next;)g+=c+i.data;return g}},{key:"concat",value:function(c){if(this.length===0)return d.alloc(0);for(var i=d.allocUnsafe(c>>>0),g=this.head,R=0;g;)r(g.data,i,R),R+=g.data.length,g=g.next;return i}},{key:"consume",value:function(c,i){var g;return c<this.head.data.length?(g=this.head.data.slice(0,c),this.head.data=this.head.data.slice(c)):c===this.head.data.length?g=this.shift():g=i?this._getString(c):this._getBuffer(c),g}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c){var i=this.head,g=1,R=i.data;for(c-=R.length;i=i.next;){var w=i.data,b=c>w.length?w.length:c;if(b===w.length?R+=w:R+=w.slice(0,c),c-=b,c===0){b===w.length?(++g,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=w.slice(b));break}++g}return this.length-=g,R}},{key:"_getBuffer",value:function(c){var i=d.allocUnsafe(c),g=this.head,R=1;for(g.data.copy(i),c-=g.data.length;g=g.next;){var w=g.data,b=c>w.length?w.length:c;if(w.copy(i,i.length-c,0,b),c-=b,c===0){b===w.length?(++R,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=w.slice(b));break}++R}return this.length-=R,i}},{key:_,value:function(c,i){return y(this,o(o({},i),{},{depth:0,customInspect:!1}))}}]),p}(),Ft}var kt,$r;function ta(){if($r)return kt;$r=1;function t(e,u){var h=this,d=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return d||f?(u?u(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,N.process.nextTick(s,this,e)):N.process.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(y){!u&&y?h._writableState?h._writableState.errorEmitted?N.process.nextTick(l,h):(h._writableState.errorEmitted=!0,N.process.nextTick(o,h,y)):N.process.nextTick(o,h,y):u?(N.process.nextTick(l,h),u(y)):N.process.nextTick(l,h)}),this)}function o(e,u){s(e,u),l(e)}function l(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function v(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(e,u){e.emit("error",u)}function n(e,u){var h=e._readableState,d=e._writableState;h&&h.autoDestroy||d&&d.autoDestroy?e.destroy(u):e.emit("error",u)}return kt={destroy:t,undestroy:v,errorOrDestroy:n},kt}var Xt={},Vr;function ge(){if(Vr)return Xt;Vr=1;function t(u,h){u.prototype=Object.create(h.prototype),u.prototype.constructor=u,u.__proto__=h}var o={};function l(u,h,d){d||(d=Error);function f(_,r,p){return typeof h=="string"?h:h(_,r,p)}var y=function(_){t(r,_);function r(p,a,c){return _.call(this,f(p,a,c))||this}return r}(d);y.prototype.name=d.name,y.prototype.code=u,o[u]=y}function v(u,h){if(Array.isArray(u)){var d=u.length;return u=u.map(function(f){return String(f)}),d>2?"one of ".concat(h," ").concat(u.slice(0,d-1).join(", "),", or ")+u[d-1]:d===2?"one of ".concat(h," ").concat(u[0]," or ").concat(u[1]):"of ".concat(h," ").concat(u[0])}else return"of ".concat(h," ").concat(String(u))}function s(u,h,d){return u.substr(0,h.length)===h}function n(u,h,d){return(d===void 0||d>u.length)&&(d=u.length),u.substring(d-h.length,d)===h}function e(u,h,d){return typeof d!="number"&&(d=0),d+h.length>u.length?!1:u.indexOf(h,d)!==-1}return l("ERR_INVALID_OPT_VALUE",function(u,h){return'The value "'+h+'" is invalid for option "'+u+'"'},TypeError),l("ERR_INVALID_ARG_TYPE",function(u,h,d){var f;typeof h=="string"&&s(h,"not ")?(f="must not be",h=h.replace(/^not /,"")):f="must be";var y;if(n(u," argument"))y="The ".concat(u," ").concat(f," ").concat(v(h,"type"));else{var _=e(u,".")?"property":"argument";y='The "'.concat(u,'" ').concat(_," ").concat(f," ").concat(v(h,"type"))}return y+=". Received type ".concat(typeof d),y},TypeError),l("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),l("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),l("ERR_STREAM_PREMATURE_CLOSE","Premature close"),l("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),l("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),l("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),l("ERR_STREAM_WRITE_AFTER_END","write after end"),l("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),l("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),l("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Xt.codes=o,Xt}var $t,Wr;function ra(){if(Wr)return $t;Wr=1;var t=ge().codes.ERR_INVALID_OPT_VALUE;function o(v,s,n){return v.highWaterMark!=null?v.highWaterMark:s?v[n]:null}function l(v,s,n,e){var u=o(s,e,n);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var h=e?n:"highWaterMark";throw new t(h,u)}return Math.floor(u)}return v.objectMode?16:16*1024}return $t={getHighWaterMark:l},$t}var Vt,Gr;function eo(){if(Gr)return Vt;Gr=1,Vt=t;function t(l,v){if(o("noDeprecation"))return l;var s=!1;function n(){if(!s){if(o("throwDeprecation"))throw new Error(v);o("traceDeprecation")?console.trace(v):console.warn(v),s=!0}return l.apply(this,arguments)}return n}function o(l){try{if(!de.localStorage)return!1}catch{return!1}var v=de.localStorage[l];return v==null?!1:String(v).toLowerCase()==="true"}return Vt}var Wt,Yr;function na(){if(Yr)return Wt;Yr=1,Wt=S;function t(I){var D=this;this.next=null,this.entry=null,this.finish=function(){Bt(D,I)}}var o;S.WritableState=O;var l={deprecate:eo()},v=ea(),s=ft().Buffer,n=(typeof de<"u"?de:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function e(I){return s.from(I)}function u(I){return s.isBuffer(I)||I instanceof n}var h=ta(),d=ra(),f=d.getHighWaterMark,y=ge().codes,_=y.ERR_INVALID_ARG_TYPE,r=y.ERR_METHOD_NOT_IMPLEMENTED,p=y.ERR_MULTIPLE_CALLBACK,a=y.ERR_STREAM_CANNOT_PIPE,c=y.ERR_STREAM_DESTROYED,i=y.ERR_STREAM_NULL_VALUES,g=y.ERR_STREAM_WRITE_AFTER_END,R=y.ERR_UNKNOWN_ENCODING,w=h.errorOrDestroy;Q()(S,v);function b(){}function O(I,D,A){o=o||pe(),I=I||{},typeof A!="boolean"&&(A=D instanceof o),this.objectMode=!!I.objectMode,A&&(this.objectMode=this.objectMode||!!I.writableObjectMode),this.highWaterMark=f(this,I,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=I.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=I.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){$(D,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=I.emitClose!==!1,this.autoDestroy=!!I.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}O.prototype.getBuffer=function(){for(var D=this.bufferedRequest,A=[];D;)A.push(D),D=D.next;return A},function(){try{Object.defineProperty(O.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var m;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(D){return m.call(this,D)?!0:this!==S?!1:D&&D._writableState instanceof O}})):m=function(D){return D instanceof this};function S(I){o=o||pe();var D=this instanceof o;if(!D&&!m.call(S,this))return new S(I);this._writableState=new O(I,this,D),this.writable=!0,I&&(typeof I.write=="function"&&(this._write=I.write),typeof I.writev=="function"&&(this._writev=I.writev),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.final=="function"&&(this._final=I.final)),v.call(this)}S.prototype.pipe=function(){w(this,new a)};function E(I,D){var A=new g;w(I,A),N.process.nextTick(D,A)}function P(I,D,A,q){var K;return A===null?K=new i:typeof A!="string"&&!D.objectMode&&(K=new _("chunk",["string","Buffer"],A)),K?(w(I,K),N.process.nextTick(q,K),!1):!0}S.prototype.write=function(I,D,A){var q=this._writableState,K=!1,T=!q.objectMode&&u(I);return T&&!s.isBuffer(I)&&(I=e(I)),typeof D=="function"&&(A=D,D=null),T?D="buffer":D||(D=q.defaultEncoding),typeof A!="function"&&(A=b),q.ending?E(this,A):(T||P(this,q,I,A))&&(q.pendingcb++,K=j(this,q,T,I,D,A)),K},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var I=this._writableState;I.corked&&(I.corked--,!I.writing&&!I.corked&&!I.bufferProcessing&&I.bufferedRequest&&oe(this,I))},S.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new R(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function M(I,D,A){return!I.objectMode&&I.decodeStrings!==!1&&typeof D=="string"&&(D=s.from(D,A)),D}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function j(I,D,A,q,K,T){if(!A){var C=M(D,q,K);q!==C&&(A=!0,K="buffer",q=C)}var B=D.objectMode?1:q.length;D.length+=B;var L=D.length<D.highWaterMark;if(L||(D.needDrain=!0),D.writing||D.corked){var F=D.lastBufferedRequest;D.lastBufferedRequest={chunk:q,encoding:K,isBuf:A,callback:T,next:null},F?F.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else U(I,D,!1,B,q,K,T);return L}function U(I,D,A,q,K,T,C){D.writelen=q,D.writecb=C,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new c("write")):A?I._writev(K,D.onwrite):I._write(K,T,D.onwrite),D.sync=!1}function W(I,D,A,q,K){--D.pendingcb,A?(N.process.nextTick(K,q),N.process.nextTick(re,I,D),I._writableState.errorEmitted=!0,w(I,q)):(K(q),I._writableState.errorEmitted=!0,w(I,q),re(I,D))}function G(I){I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0}function $(I,D){var A=I._writableState,q=A.sync,K=A.writecb;if(typeof K!="function")throw new p;if(G(A),D)W(I,A,q,D,K);else{var T=lt(A)||I.destroyed;!T&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&oe(I,A),q?N.process.nextTick(te,I,A,T,K):te(I,A,T,K)}}function te(I,D,A,q){A||ct(I,D),D.pendingcb--,q(),re(I,D)}function ct(I,D){D.length===0&&D.needDrain&&(D.needDrain=!1,I.emit("drain"))}function oe(I,D){D.bufferProcessing=!0;var A=D.bufferedRequest;if(I._writev&&A&&A.next){var q=D.bufferedRequestCount,K=new Array(q),T=D.corkedRequestsFree;T.entry=A;for(var C=0,B=!0;A;)K[C]=A,A.isBuf||(B=!1),A=A.next,C+=1;K.allBuffers=B,U(I,D,!0,D.length,K,"",T.finish),D.pendingcb++,D.lastBufferedRequest=null,T.next?(D.corkedRequestsFree=T.next,T.next=null):D.corkedRequestsFree=new t(D),D.bufferedRequestCount=0}else{for(;A;){var L=A.chunk,F=A.encoding,x=A.callback,H=D.objectMode?1:L.length;if(U(I,D,!1,H,L,F,x),A=A.next,D.bufferedRequestCount--,D.writing)break}A===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=A,D.bufferProcessing=!1}S.prototype._write=function(I,D,A){A(new r("_write()"))},S.prototype._writev=null,S.prototype.end=function(I,D,A){var q=this._writableState;return typeof I=="function"?(A=I,I=null,D=null):typeof D=="function"&&(A=D,D=null),I!=null&&this.write(I,D),q.corked&&(q.corked=1,this.uncork()),q.ending||Pt(this,q,A),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function lt(I){return I.ending&&I.length===0&&I.bufferedRequest===null&&!I.finished&&!I.writing}function It(I,D){I._final(function(A){D.pendingcb--,A&&w(I,A),D.prefinished=!0,I.emit("prefinish"),re(I,D)})}function dt(I,D){!D.prefinished&&!D.finalCalled&&(typeof I._final=="function"&&!D.destroyed?(D.pendingcb++,D.finalCalled=!0,N.process.nextTick(It,I,D)):(D.prefinished=!0,I.emit("prefinish")))}function re(I,D){var A=lt(D);if(A&&(dt(I,D),D.pendingcb===0&&(D.finished=!0,I.emit("finish"),D.autoDestroy))){var q=I._readableState;(!q||q.autoDestroy&&q.endEmitted)&&I.destroy()}return A}function Pt(I,D,A){D.ending=!0,re(I,D),A&&(D.finished?N.process.nextTick(A):I.once("finish",A)),D.ended=!0,I.writable=!1}function Bt(I,D,A){var q=I.entry;for(I.entry=null;q;){var K=q.callback;D.pendingcb--,K(A),q=q.next}D.corkedRequestsFree.next=I}return Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(I,D){D(I)},Wt}var Gt,Zr;function pe(){if(Zr)return Gt;Zr=1;var t=Object.keys||function(d){var f=[];for(var y in d)f.push(y);return f};Gt=e;var o=ia(),l=na();Q()(e,o);for(var v=t(l.prototype),s=0;s<v.length;s++){var n=v[s];e.prototype[n]||(e.prototype[n]=l.prototype[n])}function e(d){if(!(this instanceof e))return new e(d);o.call(this,d),l.call(this,d),this.allowHalfOpen=!0,d&&(d.readable===!1&&(this.readable=!1),d.writable===!1&&(this.writable=!1),d.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||N.process.nextTick(h,this)}function h(d){d.end()}return Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),Gt}var Yt={},Qr;function Sr(){if(Qr)return Yt;Qr=1;var t=ye().Buffer,o=t.isEncoding||function(i){switch(i=""+i,i&&i.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(i){if(!i)return"utf8";for(var g;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(g)return;i=(""+i).toLowerCase(),g=!0}}function v(i){var g=l(i);if(typeof g!="string"&&(t.isEncoding===o||!o(i)))throw new Error("Unknown encoding: "+i);return g||i}Yt.StringDecoder=s;function s(i){this.encoding=v(i);var g;switch(this.encoding){case"utf16le":this.text=y,this.end=_,g=4;break;case"utf8":this.fillLast=h,g=4;break;case"base64":this.text=r,this.end=p,g=3;break;default:this.write=a,this.end=c;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(g)}s.prototype.write=function(i){if(i.length===0)return"";var g,R;if(this.lastNeed){if(g=this.fillLast(i),g===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<i.length?g?g+this.text(i,R):this.text(i,R):g||""},s.prototype.end=f,s.prototype.text=d,s.prototype.fillLast=function(i){if(this.lastNeed<=i.length)return i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);i.copy(this.lastChar,this.lastTotal-this.lastNeed,0,i.length),this.lastNeed-=i.length};function n(i){return i<=127?0:i>>5===6?2:i>>4===14?3:i>>3===30?4:i>>6===2?-1:-2}function e(i,g,R){var w=g.length-1;if(w<R)return 0;var b=n(g[w]);return b>=0?(b>0&&(i.lastNeed=b-1),b):--w<R||b===-2?0:(b=n(g[w]),b>=0?(b>0&&(i.lastNeed=b-2),b):--w<R||b===-2?0:(b=n(g[w]),b>=0?(b>0&&(b===2?b=0:i.lastNeed=b-3),b):0))}function u(i,g,R){if((g[0]&192)!==128)return i.lastNeed=0,"�";if(i.lastNeed>1&&g.length>1){if((g[1]&192)!==128)return i.lastNeed=1,"�";if(i.lastNeed>2&&g.length>2&&(g[2]&192)!==128)return i.lastNeed=2,"�"}}function h(i){var g=this.lastTotal-this.lastNeed,R=u(this,i);if(R!==void 0)return R;if(this.lastNeed<=i.length)return i.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);i.copy(this.lastChar,g,0,i.length),this.lastNeed-=i.length}function d(i,g){var R=e(this,i,g);if(!this.lastNeed)return i.toString("utf8",g);this.lastTotal=R;var w=i.length-(R-this.lastNeed);return i.copy(this.lastChar,0,w),i.toString("utf8",g,w)}function f(i){var g=i&&i.length?this.write(i):"";return this.lastNeed?g+"�":g}function y(i,g){if((i.length-g)%2===0){var R=i.toString("utf16le",g);if(R){var w=R.charCodeAt(R.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=i[i.length-1],i.toString("utf16le",g,i.length-1)}function _(i){var g=i&&i.length?this.write(i):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,R)}return g}function r(i,g){var R=(i.length-g)%3;return R===0?i.toString("base64",g):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=i[i.length-1]:(this.lastChar[0]=i[i.length-2],this.lastChar[1]=i[i.length-1]),i.toString("base64",g,i.length-R))}function p(i){var g=i&&i.length?this.write(i):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function a(i){return i.toString(this.encoding)}function c(i){return i&&i.length?this.write(i):""}return Yt}var Zt,Jr;function Pr(){if(Jr)return Zt;Jr=1;var t=ge().codes.ERR_STREAM_PREMATURE_CLOSE;function o(n){var e=!1;return function(){if(!e){e=!0;for(var u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];n.apply(this,h)}}}function l(){}function v(n){return n.setHeader&&typeof n.abort=="function"}function s(n,e,u){if(typeof e=="function")return s(n,null,e);e||(e={}),u=o(u||l);var h=e.readable||e.readable!==!1&&n.readable,d=e.writable||e.writable!==!1&&n.writable,f=function(){n.writable||_()},y=n._writableState&&n._writableState.finished,_=function(){d=!1,y=!0,h||u.call(n)},r=n._readableState&&n._readableState.endEmitted,p=function(){h=!1,r=!0,d||u.call(n)},a=function(R){u.call(n,R)},c=function(){var R;if(h&&!r)return(!n._readableState||!n._readableState.ended)&&(R=new t),u.call(n,R);if(d&&!y)return(!n._writableState||!n._writableState.ended)&&(R=new t),u.call(n,R)},i=function(){n.req.on("finish",_)};return v(n)?(n.on("complete",_),n.on("abort",c),n.req?i():n.on("request",i)):d&&!n._writableState&&(n.on("end",f),n.on("close",f)),n.on("end",p),n.on("finish",_),e.error!==!1&&n.on("error",a),n.on("close",c),function(){n.removeListener("complete",_),n.removeListener("abort",c),n.removeListener("request",i),n.req&&n.req.removeListener("finish",_),n.removeListener("end",f),n.removeListener("close",f),n.removeListener("finish",_),n.removeListener("end",p),n.removeListener("error",a),n.removeListener("close",c)}}return Zt=s,Zt}var Qt,zr;function to(){if(zr)return Qt;zr=1;var t;function o(R,w,b){return w=l(w),w in R?Object.defineProperty(R,w,{value:b,enumerable:!0,configurable:!0,writable:!0}):R[w]=b,R}function l(R){var w=v(R,"string");return typeof w=="symbol"?w:String(w)}function v(R,w){if(typeof R!="object"||R===null)return R;var b=R[Symbol.toPrimitive];if(b!==void 0){var O=b.call(R,w);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(R)}var s=Pr(),n=Symbol("lastResolve"),e=Symbol("lastReject"),u=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),y=Symbol("stream");function _(R,w){return{value:R,done:w}}function r(R){var w=R[n];if(w!==null){var b=R[y].read();b!==null&&(R[d]=null,R[n]=null,R[e]=null,w(_(b,!1)))}}function p(R){N.process.nextTick(r,R)}function a(R,w){return function(b,O){R.then(function(){if(w[h]){b(_(void 0,!0));return}w[f](b,O)},O)}}var c=Object.getPrototypeOf(function(){}),i=Object.setPrototypeOf((t={get stream(){return this[y]},next:function(){var w=this,b=this[u];if(b!==null)return Promise.reject(b);if(this[h])return Promise.resolve(_(void 0,!0));if(this[y].destroyed)return new Promise(function(E,P){N.process.nextTick(function(){w[u]?P(w[u]):E(_(void 0,!0))})});var O=this[d],m;if(O)m=new Promise(a(O,this));else{var S=this[y].read();if(S!==null)return Promise.resolve(_(S,!1));m=new Promise(this[f])}return this[d]=m,m}},o(t,Symbol.asyncIterator,function(){return this}),o(t,"return",function(){var w=this;return new Promise(function(b,O){w[y].destroy(null,function(m){if(m){O(m);return}b(_(void 0,!0))})})}),t),c),g=function(w){var b,O=Object.create(i,(b={},o(b,y,{value:w,writable:!0}),o(b,n,{value:null,writable:!0}),o(b,e,{value:null,writable:!0}),o(b,u,{value:null,writable:!0}),o(b,h,{value:w._readableState.endEmitted,writable:!0}),o(b,f,{value:function(S,E){var P=O[y].read();P?(O[d]=null,O[n]=null,O[e]=null,S(_(P,!1))):(O[n]=S,O[e]=E)},writable:!0}),b));return O[d]=null,s(w,function(m){if(m&&m.code!=="ERR_STREAM_PREMATURE_CLOSE"){var S=O[e];S!==null&&(O[d]=null,O[n]=null,O[e]=null,S(m)),O[u]=m;return}var E=O[n];E!==null&&(O[d]=null,O[n]=null,O[e]=null,E(_(void 0,!0))),O[h]=!0}),w.on("readable",p.bind(null,O)),O};return Qt=g,Qt}var Jt,en;function ro(){return en||(en=1,Jt=function(){throw new Error("Readable.from is not available in the browser")}),Jt}var zt,tn;function ia(){if(tn)return zt;tn=1,zt=E;var t;E.ReadableState=S,zi().EventEmitter;var o=function(C,B){return C.listeners(B).length},l=ea(),v=ft().Buffer,s=(typeof de<"u"?de:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function n(T){return v.from(T)}function e(T){return v.isBuffer(T)||T instanceof s}var u=Pi,h;u&&u.debuglog?h=u.debuglog("stream"):h=function(){};var d=za(),f=ta(),y=ra(),_=y.getHighWaterMark,r=ge().codes,p=r.ERR_INVALID_ARG_TYPE,a=r.ERR_STREAM_PUSH_AFTER_EOF,c=r.ERR_METHOD_NOT_IMPLEMENTED,i=r.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,g,R,w;Q()(E,l);var b=f.errorOrDestroy,O=["error","close","destroy","pause","resume"];function m(T,C,B){if(typeof T.prependListener=="function")return T.prependListener(C,B);!T._events||!T._events[C]?T.on(C,B):Array.isArray(T._events[C])?T._events[C].unshift(B):T._events[C]=[B,T._events[C]]}function S(T,C,B){t=t||pe(),T=T||{},typeof B!="boolean"&&(B=C instanceof t),this.objectMode=!!T.objectMode,B&&(this.objectMode=this.objectMode||!!T.readableObjectMode),this.highWaterMark=_(this,T,"readableHighWaterMark",B),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.destroyed=!1,this.defaultEncoding=T.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,T.encoding&&(g||(g=Sr().StringDecoder),this.decoder=new g(T.encoding),this.encoding=T.encoding)}function E(T){if(t=t||pe(),!(this instanceof E))return new E(T);var C=this instanceof t;this._readableState=new S(T,this,C),this.readable=!0,T&&(typeof T.read=="function"&&(this._read=T.read),typeof T.destroy=="function"&&(this._destroy=T.destroy)),l.call(this)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(T,C){C(T)},E.prototype.push=function(T,C){var B=this._readableState,L;return B.objectMode?L=!0:typeof T=="string"&&(C=C||B.defaultEncoding,C!==B.encoding&&(T=v.from(T,C),C=""),L=!0),P(this,T,C,!1,L)},E.prototype.unshift=function(T){return P(this,T,null,!0,!1)};function P(T,C,B,L,F){h("readableAddChunk",C);var x=T._readableState;if(C===null)x.reading=!1,$(T,x);else{var H;if(F||(H=j(x,C)),H)b(T,H);else if(x.objectMode||C&&C.length>0)if(typeof C!="string"&&!x.objectMode&&Object.getPrototypeOf(C)!==v.prototype&&(C=n(C)),L)x.endEmitted?b(T,new i):M(T,x,C,!0);else if(x.ended)b(T,new a);else{if(x.destroyed)return!1;x.reading=!1,x.decoder&&!B?(C=x.decoder.write(C),x.objectMode||C.length!==0?M(T,x,C,!1):oe(T,x)):M(T,x,C,!1)}else L||(x.reading=!1,oe(T,x))}return!x.ended&&(x.length<x.highWaterMark||x.length===0)}function M(T,C,B,L){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,T.emit("data",B)):(C.length+=C.objectMode?1:B.length,L?C.buffer.unshift(B):C.buffer.push(B),C.needReadable&&te(T)),oe(T,C)}function j(T,C){var B;return!e(C)&&typeof C!="string"&&C!==void 0&&!T.objectMode&&(B=new p("chunk",["string","Buffer","Uint8Array"],C)),B}E.prototype.isPaused=function(){return this._readableState.flowing===!1},E.prototype.setEncoding=function(T){g||(g=Sr().StringDecoder);var C=new g(T);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var B=this._readableState.buffer.head,L="";B!==null;)L+=C.write(B.data),B=B.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var U=1073741824;function W(T){return T>=U?T=U:(T--,T|=T>>>1,T|=T>>>2,T|=T>>>4,T|=T>>>8,T|=T>>>16,T++),T}function G(T,C){return T<=0||C.length===0&&C.ended?0:C.objectMode?1:T!==T?C.flowing&&C.length?C.buffer.head.data.length:C.length:(T>C.highWaterMark&&(C.highWaterMark=W(T)),T<=C.length?T:C.ended?C.length:(C.needReadable=!0,0))}E.prototype.read=function(T){h("read",T),T=parseInt(T,10);var C=this._readableState,B=T;if(T!==0&&(C.emittedReadable=!1),T===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return h("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?A(this):te(this),null;if(T=G(T,C),T===0&&C.ended)return C.length===0&&A(this),null;var L=C.needReadable;h("need readable",L),(C.length===0||C.length-T<C.highWaterMark)&&(L=!0,h("length less than watermark",L)),C.ended||C.reading?(L=!1,h("reading or ended",L)):L&&(h("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(T=G(B,C)));var F;return T>0?F=D(T,C):F=null,F===null?(C.needReadable=C.length<=C.highWaterMark,T=0):(C.length-=T,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),B!==T&&C.ended&&A(this)),F!==null&&this.emit("data",F),F};function $(T,C){if(h("onEofChunk"),!C.ended){if(C.decoder){var B=C.decoder.end();B&&B.length&&(C.buffer.push(B),C.length+=C.objectMode?1:B.length)}C.ended=!0,C.sync?te(T):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,ct(T)))}}function te(T){var C=T._readableState;h("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(h("emitReadable",C.flowing),C.emittedReadable=!0,N.process.nextTick(ct,T))}function ct(T){var C=T._readableState;h("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(T.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,I(T)}function oe(T,C){C.readingMore||(C.readingMore=!0,N.process.nextTick(lt,T,C))}function lt(T,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var B=C.length;if(h("maybeReadMore read 0"),T.read(0),B===C.length)break}C.readingMore=!1}E.prototype._read=function(T){b(this,new c("_read()"))},E.prototype.pipe=function(T,C){var B=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=T;break;case 1:L.pipes=[L.pipes,T];break;default:L.pipes.push(T);break}L.pipesCount+=1,h("pipe count=%d opts=%j",L.pipesCount,C);var F=(!C||C.end!==!1)&&T!==N.process.stdout&&T!==N.process.stderr,x=F?se:ve;L.endEmitted?N.process.nextTick(x):B.once("end",x),T.on("unpipe",H);function H(ue,fe){h("onunpipe"),ue===B&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,ma())}function se(){h("onend"),T.end()}var ht=It(B);T.on("drain",ht);var Ar=!1;function ma(){h("cleanup"),T.removeListener("close",Mt),T.removeListener("finish",Nt),T.removeListener("drain",ht),T.removeListener("error",At),T.removeListener("unpipe",H),B.removeListener("end",se),B.removeListener("end",ve),B.removeListener("data",Mr),Ar=!0,L.awaitDrain&&(!T._writableState||T._writableState.needDrain)&&ht()}B.on("data",Mr);function Mr(ue){h("ondata");var fe=T.write(ue);h("dest.write",fe),fe===!1&&((L.pipesCount===1&&L.pipes===T||L.pipesCount>1&&K(L.pipes,T)!==-1)&&!Ar&&(h("false write response, pause",L.awaitDrain),L.awaitDrain++),B.pause())}function At(ue){h("onerror",ue),ve(),T.removeListener("error",At),o(T,"error")===0&&b(T,ue)}m(T,"error",At);function Mt(){T.removeListener("finish",Nt),ve()}T.once("close",Mt);function Nt(){h("onfinish"),T.removeListener("close",Mt),ve()}T.once("finish",Nt);function ve(){h("unpipe"),B.unpipe(T)}return T.emit("pipe",B),L.flowing||(h("pipe resume"),B.resume()),T};function It(T){return function(){var B=T._readableState;h("pipeOnDrain",B.awaitDrain),B.awaitDrain&&B.awaitDrain--,B.awaitDrain===0&&o(T,"data")&&(B.flowing=!0,I(T))}}E.prototype.unpipe=function(T){var C=this._readableState,B={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return T&&T!==C.pipes?this:(T||(T=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,T&&T.emit("unpipe",this,B),this);if(!T){var L=C.pipes,F=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var x=0;x<F;x++)L[x].emit("unpipe",this,{hasUnpiped:!1});return this}var H=K(C.pipes,T);return H===-1?this:(C.pipes.splice(H,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),T.emit("unpipe",this,B),this)},E.prototype.on=function(T,C){var B=l.prototype.on.call(this,T,C),L=this._readableState;return T==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):T==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,h("on readable",L.length,L.reading),L.length?te(this):L.reading||N.process.nextTick(re,this)),B},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(T,C){var B=l.prototype.removeListener.call(this,T,C);return T==="readable"&&N.process.nextTick(dt,this),B},E.prototype.removeAllListeners=function(T){var C=l.prototype.removeAllListeners.apply(this,arguments);return(T==="readable"||T===void 0)&&N.process.nextTick(dt,this),C};function dt(T){var C=T._readableState;C.readableListening=T.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:T.listenerCount("data")>0&&T.resume()}function re(T){h("readable nexttick read 0"),T.read(0)}E.prototype.resume=function(){var T=this._readableState;return T.flowing||(h("resume"),T.flowing=!T.readableListening,Pt(this,T)),T.paused=!1,this};function Pt(T,C){C.resumeScheduled||(C.resumeScheduled=!0,N.process.nextTick(Bt,T,C))}function Bt(T,C){h("resume",C.reading),C.reading||T.read(0),C.resumeScheduled=!1,T.emit("resume"),I(T),C.flowing&&!C.reading&&T.read(0)}E.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function I(T){var C=T._readableState;for(h("flow",C.flowing);C.flowing&&T.read()!==null;);}E.prototype.wrap=function(T){var C=this,B=this._readableState,L=!1;T.on("end",function(){if(h("wrapped end"),B.decoder&&!B.ended){var H=B.decoder.end();H&&H.length&&C.push(H)}C.push(null)}),T.on("data",function(H){if(h("wrapped data"),B.decoder&&(H=B.decoder.write(H)),!(B.objectMode&&H==null)&&!(!B.objectMode&&(!H||!H.length))){var se=C.push(H);se||(L=!0,T.pause())}});for(var F in T)this[F]===void 0&&typeof T[F]=="function"&&(this[F]=function(se){return function(){return T[se].apply(T,arguments)}}(F));for(var x=0;x<O.length;x++)T.on(O[x],this.emit.bind(this,O[x]));return this._read=function(H){h("wrapped _read",H),L&&(L=!1,T.resume())},this},typeof Symbol=="function"&&(E.prototype[Symbol.asyncIterator]=function(){return R===void 0&&(R=to()),R(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),E._fromList=D,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function D(T,C){if(C.length===0)return null;var B;return C.objectMode?B=C.buffer.shift():!T||T>=C.length?(C.decoder?B=C.buffer.join(""):C.buffer.length===1?B=C.buffer.first():B=C.buffer.concat(C.length),C.buffer.clear()):B=C.buffer.consume(T,C.decoder),B}function A(T){var C=T._readableState;h("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,N.process.nextTick(q,C,T))}function q(T,C){if(h("endReadableNT",T.endEmitted,T.length),!T.endEmitted&&T.length===0&&(T.endEmitted=!0,C.readable=!1,C.emit("end"),T.autoDestroy)){var B=C._writableState;(!B||B.autoDestroy&&B.finished)&&C.destroy()}}typeof Symbol=="function"&&(E.from=function(T,C){return w===void 0&&(w=ro()),w(E,T,C)});function K(T,C){for(var B=0,L=T.length;B<L;B++)if(T[B]===C)return B;return-1}return zt}var er,rn;function aa(){if(rn)return er;rn=1,er=u;var t=ge().codes,o=t.ERR_METHOD_NOT_IMPLEMENTED,l=t.ERR_MULTIPLE_CALLBACK,v=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,n=pe();Q()(u,n);function e(f,y){var _=this._transformState;_.transforming=!1;var r=_.writecb;if(r===null)return this.emit("error",new l);_.writechunk=null,_.writecb=null,y!=null&&this.push(y),r(f);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function u(f){if(!(this instanceof u))return new u(f);n.call(this,f),this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",h)}function h(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,_){d(f,y,_)}):d(this,null,null)}u.prototype.push=function(f,y){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,y)},u.prototype._transform=function(f,y,_){_(new o("_transform()"))},u.prototype._write=function(f,y,_){var r=this._transformState;if(r.writecb=_,r.writechunk=f,r.writeencoding=y,!r.transforming){var p=this._readableState;(r.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},u.prototype._read=function(f){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},u.prototype._destroy=function(f,y){n.prototype._destroy.call(this,f,function(_){y(_)})};function d(f,y,_){if(y)return f.emit("error",y);if(_!=null&&f.push(_),f._writableState.length)throw new s;if(f._transformState.transforming)throw new v;return f.push(null)}return er}var tr,nn;function no(){if(nn)return tr;nn=1,tr=o;var t=aa();Q()(o,t);function o(l){if(!(this instanceof o))return new o(l);t.call(this,l)}return o.prototype._transform=function(l,v,s){s(null,l)},tr}var rr,an;function io(){if(an)return rr;an=1;var t;function o(_){var r=!1;return function(){r||(r=!0,_.apply(void 0,arguments))}}var l=ge().codes,v=l.ERR_MISSING_ARGS,s=l.ERR_STREAM_DESTROYED;function n(_){if(_)throw _}function e(_){return _.setHeader&&typeof _.abort=="function"}function u(_,r,p,a){a=o(a);var c=!1;_.on("close",function(){c=!0}),t===void 0&&(t=Pr()),t(_,{readable:r,writable:p},function(g){if(g)return a(g);c=!0,a()});var i=!1;return function(g){if(!c&&!i){if(i=!0,e(_))return _.abort();if(typeof _.destroy=="function")return _.destroy();a(g||new s("pipe"))}}}function h(_){_()}function d(_,r){return _.pipe(r)}function f(_){return!_.length||typeof _[_.length-1]!="function"?n:_.pop()}function y(){for(var _=arguments.length,r=new Array(_),p=0;p<_;p++)r[p]=arguments[p];var a=f(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new v("streams");var c,i=r.map(function(g,R){var w=R<r.length-1,b=R>0;return u(g,w,b,function(O){c||(c=O),O&&i.forEach(h),!w&&(i.forEach(h),a(c))})});return r.reduce(d)}return rr=y,rr}var on;function ao(){return on||(on=1,function(t,o){o=t.exports=ia(),o.Stream=o,o.Readable=o,o.Writable=na(),o.Duplex=pe(),o.Transform=aa(),o.PassThrough=no(),o.finished=Pr(),o.pipeline=io()}(pt,pt.exports)),pt.exports}var nr,sn;function oa(){if(sn)return nr;sn=1;var t=ye().Buffer,o=ao().Transform,l=Q();function v(n,e){if(!t.isBuffer(n)&&typeof n!="string")throw new TypeError(e+" must be a string or a buffer")}function s(n){o.call(this),this._block=t.allocUnsafe(n),this._blockSize=n,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return l(s,o),s.prototype._transform=function(n,e,u){var h=null;try{this.update(n,e)}catch(d){h=d}u(h)},s.prototype._flush=function(n){var e=null;try{this.push(this.digest())}catch(u){e=u}n(e)},s.prototype.update=function(n,e){if(v(n,"Data"),this._finalized)throw new Error("Digest already called");t.isBuffer(n)||(n=t.from(n,e));for(var u=this._block,h=0;this._blockOffset+n.length-h>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)u[d++]=n[h++];this._update(),this._blockOffset=0}for(;h<n.length;)u[this._blockOffset++]=n[h++];for(var f=0,y=n.length*8;y>0;++f)this._length[f]+=y,y=this._length[f]/4294967296|0,y>0&&(this._length[f]-=4294967296*y);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();n!==void 0&&(e=e.toString(n)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},nr=s,nr}var ir,un;function oo(){if(un)return ir;un=1;var t=Q(),o=oa(),l=ye().Buffer,v=new Array(16);function s(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}t(s,o),s.prototype._update=function(){for(var f=v,y=0;y<16;++y)f[y]=this._block.readInt32LE(y*4);var _=this._a,r=this._b,p=this._c,a=this._d;_=e(_,r,p,a,f[0],3614090360,7),a=e(a,_,r,p,f[1],3905402710,12),p=e(p,a,_,r,f[2],606105819,17),r=e(r,p,a,_,f[3],3250441966,22),_=e(_,r,p,a,f[4],4118548399,7),a=e(a,_,r,p,f[5],1200080426,12),p=e(p,a,_,r,f[6],2821735955,17),r=e(r,p,a,_,f[7],4249261313,22),_=e(_,r,p,a,f[8],1770035416,7),a=e(a,_,r,p,f[9],2336552879,12),p=e(p,a,_,r,f[10],4294925233,17),r=e(r,p,a,_,f[11],2304563134,22),_=e(_,r,p,a,f[12],1804603682,7),a=e(a,_,r,p,f[13],4254626195,12),p=e(p,a,_,r,f[14],2792965006,17),r=e(r,p,a,_,f[15],1236535329,22),_=u(_,r,p,a,f[1],4129170786,5),a=u(a,_,r,p,f[6],3225465664,9),p=u(p,a,_,r,f[11],643717713,14),r=u(r,p,a,_,f[0],3921069994,20),_=u(_,r,p,a,f[5],3593408605,5),a=u(a,_,r,p,f[10],38016083,9),p=u(p,a,_,r,f[15],3634488961,14),r=u(r,p,a,_,f[4],3889429448,20),_=u(_,r,p,a,f[9],568446438,5),a=u(a,_,r,p,f[14],3275163606,9),p=u(p,a,_,r,f[3],4107603335,14),r=u(r,p,a,_,f[8],1163531501,20),_=u(_,r,p,a,f[13],2850285829,5),a=u(a,_,r,p,f[2],4243563512,9),p=u(p,a,_,r,f[7],1735328473,14),r=u(r,p,a,_,f[12],2368359562,20),_=h(_,r,p,a,f[5],4294588738,4),a=h(a,_,r,p,f[8],2272392833,11),p=h(p,a,_,r,f[11],1839030562,16),r=h(r,p,a,_,f[14],4259657740,23),_=h(_,r,p,a,f[1],2763975236,4),a=h(a,_,r,p,f[4],1272893353,11),p=h(p,a,_,r,f[7],4139469664,16),r=h(r,p,a,_,f[10],3200236656,23),_=h(_,r,p,a,f[13],681279174,4),a=h(a,_,r,p,f[0],3936430074,11),p=h(p,a,_,r,f[3],3572445317,16),r=h(r,p,a,_,f[6],76029189,23),_=h(_,r,p,a,f[9],3654602809,4),a=h(a,_,r,p,f[12],3873151461,11),p=h(p,a,_,r,f[15],530742520,16),r=h(r,p,a,_,f[2],3299628645,23),_=d(_,r,p,a,f[0],4096336452,6),a=d(a,_,r,p,f[7],1126891415,10),p=d(p,a,_,r,f[14],2878612391,15),r=d(r,p,a,_,f[5],4237533241,21),_=d(_,r,p,a,f[12],1700485571,6),a=d(a,_,r,p,f[3],2399980690,10),p=d(p,a,_,r,f[10],4293915773,15),r=d(r,p,a,_,f[1],2240044497,21),_=d(_,r,p,a,f[8],1873313359,6),a=d(a,_,r,p,f[15],4264355552,10),p=d(p,a,_,r,f[6],2734768916,15),r=d(r,p,a,_,f[13],1309151649,21),_=d(_,r,p,a,f[4],4149444226,6),a=d(a,_,r,p,f[11],3174756917,10),p=d(p,a,_,r,f[2],718787259,15),r=d(r,p,a,_,f[9],3951481745,21),this._a=this._a+_|0,this._b=this._b+r|0,this._c=this._c+p|0,this._d=this._d+a|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=l.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f};function n(f,y){return f<<y|f>>>32-y}function e(f,y,_,r,p,a,c){return n(f+(y&_|~y&r)+p+a|0,c)+y|0}function u(f,y,_,r,p,a,c){return n(f+(y&r|_&~r)+p+a|0,c)+y|0}function h(f,y,_,r,p,a,c){return n(f+(y^_^r)+p+a|0,c)+y|0}function d(f,y,_,r,p,a,c){return n(f+(_^(y|~r))+p+a|0,c)+y|0}return ir=s,ir}var ar,fn;function so(){if(fn)return ar;fn=1;var t=ft().Buffer,o=Q(),l=oa(),v=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],e=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function f(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}o(f,l),f.prototype._update=function(){for(var i=v,g=0;g<16;++g)i[g]=this._block.readInt32LE(g*4);for(var R=this._a|0,w=this._b|0,b=this._c|0,O=this._d|0,m=this._e|0,S=this._a|0,E=this._b|0,P=this._c|0,M=this._d|0,j=this._e|0,U=0;U<80;U+=1){var W,G;U<16?(W=_(R,w,b,O,m,i[s[U]],h[0],e[U]),G=c(S,E,P,M,j,i[n[U]],d[0],u[U])):U<32?(W=r(R,w,b,O,m,i[s[U]],h[1],e[U]),G=a(S,E,P,M,j,i[n[U]],d[1],u[U])):U<48?(W=p(R,w,b,O,m,i[s[U]],h[2],e[U]),G=p(S,E,P,M,j,i[n[U]],d[2],u[U])):U<64?(W=a(R,w,b,O,m,i[s[U]],h[3],e[U]),G=r(S,E,P,M,j,i[n[U]],d[3],u[U])):(W=c(R,w,b,O,m,i[s[U]],h[4],e[U]),G=_(S,E,P,M,j,i[n[U]],d[4],u[U])),R=m,m=O,O=y(b,10),b=w,w=W,S=j,j=M,M=y(P,10),P=E,E=G}var $=this._b+b+M|0;this._b=this._c+O+j|0,this._c=this._d+m+S|0,this._d=this._e+R+E|0,this._e=this._a+w+P|0,this._a=$},f.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var i=t.alloc?t.alloc(20):new t(20);return i.writeInt32LE(this._a,0),i.writeInt32LE(this._b,4),i.writeInt32LE(this._c,8),i.writeInt32LE(this._d,12),i.writeInt32LE(this._e,16),i};function y(i,g){return i<<g|i>>>32-g}function _(i,g,R,w,b,O,m,S){return y(i+(g^R^w)+O+m|0,S)+b|0}function r(i,g,R,w,b,O,m,S){return y(i+(g&R|~g&w)+O+m|0,S)+b|0}function p(i,g,R,w,b,O,m,S){return y(i+((g|~R)^w)+O+m|0,S)+b|0}function a(i,g,R,w,b,O,m,S){return y(i+(g&w|R&~w)+O+m|0,S)+b|0}function c(i,g,R,w,b,O,m,S){return y(i+(g^(R|~w))+O+m|0,S)+b|0}return ar=f,ar}var or,cn;function uo(){if(cn)return or;cn=1;var t=ye().Buffer,o=Ta().Transform,l=Sr().StringDecoder,v=Q();function s(n){o.call(this),this.hashMode=typeof n=="string",this.hashMode?this[n]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return v(s,o),s.prototype.update=function(n,e,u){typeof n=="string"&&(n=t.from(n,e));var h=this._update(n);return this.hashMode?this:(u&&(h=this._toString(h,u)),h)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(n,e,u){var h;try{this.hashMode?this._update(n):this.push(this._update(n))}catch(d){h=d}finally{u(h)}},s.prototype._flush=function(n){var e;try{this.push(this.__final())}catch(u){e=u}n(e)},s.prototype._finalOrDigest=function(n){var e=this.__final()||t.alloc(0);return n&&(e=this._toString(e,n,!0)),e},s.prototype._toString=function(n,e,u){if(this._decoder||(this._decoder=new l(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var h=this._decoder.write(n);return u&&(h+=this._decoder.end()),h},or=s,or}var sr,ln;function fo(){if(ln)return sr;ln=1;var t=Q(),o=oo(),l=so(),v=Ca(),s=uo();function n(e){s.call(this,"digest"),this._hash=e}return t(n,s),n.prototype._update=function(e){this._hash.update(e)},n.prototype._final=function(){return this._hash.digest()},sr=function(u){return u=u.toLowerCase(),u==="md5"?new o:u==="rmd160"||u==="ripemd160"?new l:new n(v(u))},sr}var ur,dn;function co(){if(dn)return ur;dn=1;var t=ye().Buffer;function o(l){if(l.length>=255)throw new TypeError("Alphabet too long");for(var v=new Uint8Array(256),s=0;s<v.length;s++)v[s]=255;for(var n=0;n<l.length;n++){var e=l.charAt(n),u=e.charCodeAt(0);if(v[u]!==255)throw new TypeError(e+" is ambiguous");v[u]=n}var h=l.length,d=l.charAt(0),f=Math.log(h)/Math.log(256),y=Math.log(256)/Math.log(h);function _(a){if((Array.isArray(a)||a instanceof Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError("Expected Buffer");if(a.length===0)return"";for(var c=0,i=0,g=0,R=a.length;g!==R&&a[g]===0;)g++,c++;for(var w=(R-g)*y+1>>>0,b=new Uint8Array(w);g!==R;){for(var O=a[g],m=0,S=w-1;(O!==0||m<i)&&S!==-1;S--,m++)O+=256*b[S]>>>0,b[S]=O%h>>>0,O=O/h>>>0;if(O!==0)throw new Error("Non-zero carry");i=m,g++}for(var E=w-i;E!==w&&b[E]===0;)E++;for(var P=d.repeat(c);E<w;++E)P+=l.charAt(b[E]);return P}function r(a){if(typeof a!="string")throw new TypeError("Expected String");if(a.length===0)return t.alloc(0);for(var c=0,i=0,g=0;a[c]===d;)i++,c++;for(var R=(a.length-c)*f+1>>>0,w=new Uint8Array(R);a[c];){var b=v[a.charCodeAt(c)];if(b===255)return;for(var O=0,m=R-1;(b!==0||O<g)&&m!==-1;m--,O++)b+=h*w[m]>>>0,w[m]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");g=O,c++}for(var S=R-g;S!==R&&w[S]===0;)S++;var E=t.allocUnsafe(i+(R-S));E.fill(0,0,i);for(var P=i;S!==R;)E[P++]=w[S++];return E}function p(a){var c=r(a);if(c)return c;throw new Error("Non-base"+h+" character")}return{encode:_,decodeUnsafe:r,decode:p}}return ur=o,ur}var fr,hn;function lo(){if(hn)return fr;hn=1;var t=co(),o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return fr=t(o),fr}var cr,pn;function ho(){if(pn)return cr;pn=1;var t=lo(),o=ye().Buffer;return cr=function(l){function v(u){var h=l(u);return t.encode(o.concat([u,h],u.length+4))}function s(u){var h=u.slice(0,-4),d=u.slice(-4),f=l(h);if(!(d[0]^f[0]|d[1]^f[1]|d[2]^f[2]|d[3]^f[3]))return h}function n(u){var h=t.decodeUnsafe(u);if(h)return s(h)}function e(u){var h=t.decode(u),d=s(h);if(!d)throw new Error("Invalid checksum");return d}return{encode:v,decode:e,decodeUnsafe:n}},cr}var lr,yn;function po(){if(yn)return lr;yn=1;var t=fo(),o=ho();function l(v){var s=t("sha256").update(v).digest();return t("sha256").update(s).digest()}return lr=o(l),lr}var dr={},Ce={},Y={},gn;function Br(){if(gn)return Y;gn=1;var t=Y&&Y.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Y,"__esModule",{value:!0}),Y.URDecoder=Y.UREncoder=Y.UR=void 0;const o=t(Sa());Y.UR=o.default;const l=t(Ua());Y.UREncoder=l.default;const v=t(ba());return Y.URDecoder=v.default,Y}var vn;function V(){if(vn)return Ce;vn=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.RegistryItem=void 0;const t=Br(),o=k();let l=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,o.encodeDataItem)(this.toDataItem())},this.toUR=()=>new t.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(s,n,e)=>{const u=this.toUR();return new t.UREncoder(u,s,n,e)}}};return Ce.RegistryItem=l,Ce}var _n;function br(){return _n||(_n=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoCoinInfo=t.Network=t.Type=void 0;const o=k(),l=V(),v=X();var s;(function(h){h.type="1",h.network="2"})(s||(s={}));var n;(function(h){h[h.bitcoin=0]="bitcoin"})(n=t.Type||(t.Type={}));var e;(function(h){h[h.mainnet=0]="mainnet",h[h.testnet=1]="testnet"})(e=t.Network||(t.Network={}));class u extends l.RegistryItem{constructor(d,f){super(),this.type=d,this.network=f,this.getRegistryType=()=>v.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||n.bitcoin,this.getNetwork=()=>this.network||e.mainnet,this.toDataItem=()=>{const y={};return this.type&&(y[s.type]=this.type),this.network&&(y[s.network]=this.network),new o.DataItem(y)}}}t.CryptoCoinInfo=u,u.fromDataItem=h=>{const d=h.getData(),f=d[s.type],y=d[s.network];return new u(f,y)},u.fromCBOR=h=>{const d=(0,o.decodeToDataItem)(h);return u.fromDataItem(d)}}(dr)),dr}var Se={},be={},mn;function wr(){if(mn)return be;mn=1,Object.defineProperty(be,"__esModule",{value:!0}),be.PathComponent=void 0;let t=class sa{constructor(l){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=l.index,this.hardened=l.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&sa.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};return be.PathComponent=t,t.HARDENED_BIT=2147483648,be}var Rn;function Tt(){if(Rn)return Se;Rn=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.CryptoKeypath=void 0;const t=k(),o=wr(),l=V(),v=X();var s;(function(e){e[e.components=1]="components",e[e.source_fingerprint=2]="source_fingerprint",e[e.depth=3]="depth"})(s||(s={}));let n=class extends l.RegistryItem{constructor(u=[],h,d){super(),this.components=u,this.sourceFingerprint=h,this.depth=d,this.getRegistryType=()=>v.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(y=>`${y.isWildcard()?"*":y.getIndex()}${y.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{const f={},y=[];return this.components&&this.components.forEach(_=>{_.isWildcard()?y.push([]):y.push(_.getIndex()),y.push(_.isHardened())}),f[s.components]=y,this.sourceFingerprint&&(f[s.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(f[s.depth]=this.depth),new t.DataItem(f)}}};return Se.CryptoKeypath=n,n.fromDataItem=e=>{const u=e.getData(),h=[],d=u[s.components];if(d)for(let r=0;r<d.length;r+=2){const p=d[r+1],a=d[r];typeof a=="number"?h.push(new o.PathComponent({index:a,hardened:p})):h.push(new o.PathComponent({hardened:p}))}const f=u[s.source_fingerprint];let y;f&&(y=N.Buffer.alloc(4),y.writeUInt32BE(f,0));const _=u[s.depth];return new n(h,y,_)},n.fromCBOR=e=>{const u=(0,t.decodeToDataItem)(e);return n.fromDataItem(u)},Se}var Tn;function ut(){if(Tn)return Te;Tn=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.CryptoHDKey=void 0;const t=po(),o=br(),l=Tt(),v=k(),s=V(),n=X();var e;(function(h){h[h.is_master=1]="is_master",h[h.is_private=2]="is_private",h[h.key_data=3]="key_data",h[h.chain_code=4]="chain_code",h[h.use_info=5]="use_info",h[h.origin=6]="origin",h[h.children=7]="children",h[h.parent_fingerprint=8]="parent_fingerprint",h[h.name=9]="name",h[h.note=10]="note"})(e||(e={}));let u=class extends s.RegistryItem{constructor(d){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var f,y,_;let r,p,a=0,c=N.Buffer.alloc(4).fill(0);if(this.isMaster())r=N.Buffer.from("0488ADE4","hex"),p=0,a=0;else{p=((f=this.getOrigin())===null||f===void 0?void 0:f.getComponents().length)||((y=this.getOrigin())===null||y===void 0?void 0:y.getDepth());const b=(_=this.getOrigin())===null||_===void 0?void 0:_.getComponents(),O=b[b.length-1];O&&(a=O.isHardened()?O.getIndex()+2147483648:O.getIndex(),this.getParentFingerprint()&&(c=this.getParentFingerprint())),this.isPrivateKey()?r=N.Buffer.from("0488ADE4","hex"):r=N.Buffer.from("0488B21E","hex")}const i=N.Buffer.alloc(1);i.writeUInt8(p,0);const g=N.Buffer.alloc(4);g.writeUInt32BE(a,0);const R=this.getChainCode(),w=this.getKey();return(0,t.encode)(N.Buffer.concat([r,i,c,g,R,w]))},this.getRegistryType=()=>n.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var f,y,_,r,p,a,c;let i="";return this.getOrigin()&&!((f=this.getOrigin())===null||f===void 0)&&f.getSourceFingerprint()&&!((y=this.getOrigin())===null||y===void 0)&&y.getPath()&&(i+=`${(r=(_=this.getOrigin())===null||_===void 0?void 0:_.getSourceFingerprint())===null||r===void 0?void 0:r.toString("hex")}/${(p=this.getOrigin())===null||p===void 0?void 0:p.getPath()}`),i+=this.getBip32Key(),this.getChildren()&&!((a=this.getChildren())===null||a===void 0)&&a.getPath()&&(i+=`/${(c=this.getChildren())===null||c===void 0?void 0:c.getPath()}`),i},this.setupMasterKey=f=>{this.master=!0,this.key=f.key,this.chainCode=f.chainCode},this.setupDeriveKey=f=>{this.master=!1,this.privateKey=f.isPrivateKey,this.key=f.key,this.chainCode=f.chainCode,this.useInfo=f.useInfo,this.origin=f.origin,this.children=f.children,this.parentFingerprint=f.parentFingerprint,this.name=f.name,this.note=f.note},this.toDataItem=()=>{const f={};if(this.master)f[e.is_master]=!0,f[e.key_data]=this.key,f[e.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(f[e.is_private]=this.privateKey),f[e.key_data]=this.key,this.chainCode&&(f[e.chain_code]=this.chainCode),this.useInfo){const y=this.useInfo.toDataItem();y.setTag(this.useInfo.getRegistryType().getTag()),f[e.use_info]=y}if(this.origin){const y=this.origin.toDataItem();y.setTag(this.origin.getRegistryType().getTag()),f[e.origin]=y}if(this.children){const y=this.children.toDataItem();y.setTag(this.children.getRegistryType().getTag()),f[e.children]=y}this.parentFingerprint&&(f[e.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(f[e.name]=this.name),this.note!==void 0&&(f[e.note]=this.note)}return new v.DataItem(f)},d.isMaster?this.setupMasterKey(d):this.setupDeriveKey(d)}};return Te.CryptoHDKey=u,u.fromDataItem=h=>{const d=h.getData(),f=!!d[e.is_master],y=d[e.is_private],_=d[e.key_data],r=d[e.chain_code],p=d[e.use_info]?o.CryptoCoinInfo.fromDataItem(d[e.use_info]):void 0,a=d[e.origin]?l.CryptoKeypath.fromDataItem(d[e.origin]):void 0,c=d[e.children]?l.CryptoKeypath.fromDataItem(d[e.children]):void 0,i=d[e.parent_fingerprint];let g;i&&(g=N.Buffer.alloc(4),g.writeUInt32BE(i,0));const R=d[e.name],w=d[e.note];return new u({isMaster:f,isPrivateKey:y,key:_,chainCode:r,useInfo:p,origin:a,children:c,parentFingerprint:g,name:R,note:w})},u.fromCBOR=h=>{const d=(0,v.decodeToDataItem)(h);return u.fromDataItem(d)},Te}var we={},Cn;function Ct(){if(Cn)return we;Cn=1,Object.defineProperty(we,"__esModule",{value:!0}),we.CryptoECKey=void 0;const t=k(),o=V(),l=X();var v;(function(n){n[n.curve=1]="curve",n[n.private=2]="private",n[n.data=3]="data"})(v||(v={}));let s=class extends o.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>l.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{const u={};return this.curve&&(u[v.curve]=this.curve),this.privateKey!==void 0&&(u[v.private]=this.privateKey),u[v.data]=this.data,new t.DataItem(u)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};return we.CryptoECKey=s,s.fromDataItem=n=>{const e=n.getData(),u=e[v.curve],h=e[v.private],d=e[v.data];if(!d)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${n}`);return new s({data:d,curve:u,privateKey:h})},s.fromCBOR=n=>{const e=(0,t.decodeToDataItem)(n);return s.fromDataItem(e)},we}var Ee={},Sn;function yo(){if(Sn)return Ee;Sn=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.Bytes=void 0;const t=k(),o=V(),l=X();let v=class extends o.RegistryItem{constructor(n){super(),this.bytes=n,this.getRegistryType=()=>l.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new t.DataItem(this.bytes)}};return Ee.Bytes=v,v.fromDataItem=s=>{const n=s.getData();if(!n)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${s}`);return new v(n)},v.fromCBOR=s=>{const n=(0,t.decodeToDataItem)(s);return v.fromDataItem(n)},Ee}var Oe={},De={},bn;function Er(){if(bn)return De;bn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.MultiKey=void 0;const t=Ct(),o=ut(),l=Dr(),v=V(),s=X();var n;(function(u){u[u.threshold=1]="threshold",u[u.keys=2]="keys"})(n||(n={}));let e=class extends v.RegistryItem{constructor(h,d){super(),this.threshold=h,this.keys=d,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{const f={};f[n.threshold]=this.threshold;const y=this.keys.map(_=>{const r=_.toDataItem();return r.setTag(_.getRegistryType().getTag()),r});return f[n.keys]=y,new l.DataItem(f)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(f=>f.getOutputDescriptorContent()).join(",")].join(",")}};return De.MultiKey=e,e.fromDataItem=u=>{const h=u.getData(),d=h[n.threshold],f=h[n.keys],y=[];return f.forEach(_=>{_.getTag()===s.RegistryTypes.CRYPTO_HDKEY.getTag()?y.push(o.CryptoHDKey.fromDataItem(_)):_.getTag()===s.RegistryTypes.CRYPTO_ECKEY.getTag()&&y.push(t.CryptoECKey.fromDataItem(_))}),new e(d,y)},De}var wn;function En(){if(wn)return Oe;wn=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.CryptoOutput=void 0;const t=Ct(),o=ut(),l=k(),v=Er(),s=V(),n=X(),e=Ir();let u=class extends s.RegistryItem{constructor(d,f){super(),this.scriptExpressions=d,this.cryptoKey=f,this.getRegistryType=()=>n.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof o.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof t.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof v.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=y=>y>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[y].getExpression()}(${this._toOutputDescriptor(y+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let y=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof t.CryptoECKey||this.cryptoKey instanceof o.CryptoHDKey)&&y.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(r=>{const p=r.getTag();y.getTag()===void 0?y.setTag(p):y=new l.DataItem(y,p)}),y}}};return Oe.CryptoOutput=u,u.fromDataItem=h=>{const d=[];let f=h;for(;;){let r=f.getTag();const p=e.ScriptExpression.fromTag(r);if(p)if(d.push(p),f.getData()instanceof l.DataItem)f=f.getData(),r=f.getTag();else break;else break}const y=d.length;if(y>0&&(d[y-1].getExpression()===e.ScriptExpressions.MULTISIG.getExpression()||d[y-1].getExpression()===e.ScriptExpressions.SORTED_MULTISIG.getExpression())){const r=v.MultiKey.fromDataItem(f);return new u(d,r)}if(f.getTag()===n.RegistryTypes.CRYPTO_HDKEY.getTag()){const r=o.CryptoHDKey.fromDataItem(f);return new u(d,r)}else{const r=t.CryptoECKey.fromDataItem(f);return new u(d,r)}},u.fromCBOR=h=>{const d=(0,l.decodeToDataItem)(h);return u.fromDataItem(d)},Oe}var Ie={},On;function Dn(){if(On)return Ie;On=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.CryptoPSBT=void 0;const t=k(),o=V(),l=X();let v=class extends o.RegistryItem{constructor(n){super(),this.psbt=n,this.getRegistryType=()=>l.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new t.DataItem(this.psbt)}};return Ie.CryptoPSBT=v,v.fromDataItem=s=>{const n=s.getData();if(!n)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${s}`);return new v(n)},v.fromCBOR=s=>{const n=(0,t.decodeToDataItem)(s);return v.fromDataItem(n)},Ie}var Pe={},In;function Pn(){if(In)return Pe;In=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.CryptoAccount=void 0;const t=bt(),o=k(),l=V(),v=X();var s;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.outputDescriptors=2]="outputDescriptors"})(s||(s={}));let n=class extends l.RegistryItem{constructor(u,h){super(),this.masterFingerprint=u,this.outputDescriptors=h,this.getRegistryType=()=>v.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{const d={};return this.masterFingerprint&&(d[s.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(d[s.outputDescriptors]=this.outputDescriptors.map(f=>f.toDataItem())),new o.DataItem(d)}}};return Pe.CryptoAccount=n,n.fromDataItem=e=>{const u=e.getData(),h=N.Buffer.alloc(4),d=u[s.masterFingerprint];d&&h.writeUInt32BE(d,0);const y=u[s.outputDescriptors].map(_=>t.CryptoOutput.fromDataItem(_));return new n(h,y)},n.fromCBOR=e=>{const u=(0,o.decodeToDataItem)(e);return n.fromDataItem(u)},Pe}var Be={},Ae={},Bn;function ua(){if(Bn)return Ae;Bn=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.UnknownURTypeError=void 0;class t extends Error{constructor(l){super(l)}}return Ae.UnknownURTypeError=t,Ae}var An;function Mn(){if(An)return Be;An=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.URRegistryDecoder=void 0;const t=Br(),o=bt(),l=X(),v=ua();class s extends t.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{const e=this.resultUR();switch(e.type){case l.RegistryTypes.BYTES.getType():return o.Bytes.fromCBOR(e.cbor);case l.RegistryTypes.CRYPTO_HDKEY.getType():return o.CryptoHDKey.fromCBOR(e.cbor);case l.RegistryTypes.CRYPTO_KEYPATH.getType():return o.CryptoKeypath.fromCBOR(e.cbor);case l.RegistryTypes.CRYPTO_COIN_INFO.getType():return o.CryptoCoinInfo.fromCBOR(e.cbor);case l.RegistryTypes.CRYPTO_ECKEY.getType():return o.CryptoECKey.fromCBOR(e.cbor);case l.RegistryTypes.CRYPTO_OUTPUT.getType():return o.CryptoOutput.fromCBOR(e.cbor);case l.RegistryTypes.CRYPTO_PSBT.getType():return o.CryptoPSBT.fromCBOR(e.cbor);case l.RegistryTypes.CRYPTO_ACCOUNT.getType():return o.CryptoAccount.fromCBOR(e.cbor);default:throw new v.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}}return Be.URRegistryDecoder=s,Be}var Me={},Nn;function Ln(){if(Nn)return Me;Nn=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.CryptoMultiAccounts=void 0;const t=X(),o=ut(),l=V(),v=k();var s;(function(e){e[e.masterFingerprint=1]="masterFingerprint",e[e.keys=2]="keys",e[e.device=3]="device",e[e.deviceId=4]="deviceId",e[e.version=5]="version"})(s||(s={}));let n=class extends l.RegistryItem{constructor(u,h,d,f,y){super(),this.masterFingerprint=u,this.keys=h,this.device=d,this.deviceId=f,this.version=y,this.getRegistryType=()=>t.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{const _={};return this.masterFingerprint&&(_[s.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(_[s.keys]=this.keys.map(r=>{const p=r.toDataItem();return p.setTag(r.getRegistryType().getTag()),p})),this.device&&(_[s.device]=this.device),this.deviceId&&(_[s.deviceId]=this.deviceId),this.version&&(_[s.version]=this.version),new v.DataItem(_)}}};return Me.CryptoMultiAccounts=n,n.fromDataItem=e=>{const u=e.getData(),h=N.Buffer.alloc(4),d=u[s.masterFingerprint];d&&h.writeUInt32BE(d,0);const y=u[s.keys].map(a=>o.CryptoHDKey.fromDataItem(a)),_=u[s.device],r=u[s.deviceId],p=u[s.version];return new n(h,y,_,r,p)},n.fromCBOR=e=>{const u=(0,v.decodeToDataItem)(e);return n.fromDataItem(u)},Me}var hr={},Ne={},pr={},qn;function fa(){return qn||(qn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.KeyDerivationSchema=t.DerivationAlgorithm=t.Curve=void 0;const o=X(),l=V(),v=k(),s=Tt();var n;(function(d){d[d.keyPath=1]="keyPath",d[d.curve=2]="curve",d[d.algo=3]="algo"})(n||(n={}));var e;(function(d){d[d.secp256k1=0]="secp256k1",d[d.ed25519=1]="ed25519"})(e=t.Curve||(t.Curve={}));var u;(function(d){d[d.slip10=0]="slip10",d[d.bip32ed25519=1]="bip32ed25519"})(u=t.DerivationAlgorithm||(t.DerivationAlgorithm={}));class h extends l.RegistryItem{constructor(f,y=e.secp256k1,_=u.slip10){super(),this.keypath=f,this.curve=y,this.algo=_,this.getRegistryType=()=>o.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{const r={},p=this.getKeypath().toDataItem();return p.setTag(this.getKeypath().getRegistryType().getTag()),r[n.keyPath]=p,r[n.curve]=this.curve,r[n.algo]=this.algo,new v.DataItem(r)}}}t.KeyDerivationSchema=h,h.fromDataItem=d=>{const f=d.getData(),y=s.CryptoKeypath.fromDataItem(f[n.keyPath]),_=f[n.curve],r=f[n.algo];return new h(y,_,r)},h.fromCBOR=d=>{const f=(0,v.decodeToDataItem)(d);return h.fromDataItem(f)}}(pr)),pr}var Un;function ca(){if(Un)return Ne;Un=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.KeyDerivation=void 0;const t=X(),o=V(),l=k(),v=fa();var s;(function(e){e[e.schemas=1]="schemas"})(s||(s={}));let n=class extends o.RegistryItem{constructor(u){super(),this.schemas=u,this.getRegistryType=()=>t.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{const h={};return h[s.schemas]=this.schemas.map(d=>{const f=d.toDataItem();return f.setTag(d.getRegistryType().getTag()),f}),new l.DataItem(h)}}};return Ne.KeyDerivation=n,n.fromDataItem=e=>{const h=e.getData()[s.schemas].map(d=>v.KeyDerivationSchema.fromDataItem(d));return new n(h)},n.fromCBOR=e=>{const u=(0,l.decodeToDataItem)(e);return n.fromDataItem(u)},Ne}var xn;function go(){return xn||(xn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.QRHardwareCall=t.QRHardwareCallType=void 0;const o=X(),l=V(),v=k(),s=ca();var n;(function(h){h[h.type=1]="type",h[h.params=2]="params",h[h.origin=3]="origin"})(n||(n={}));var e;(function(h){h[h.KeyDerivation=0]="KeyDerivation"})(e=t.QRHardwareCallType||(t.QRHardwareCallType={}));class u extends l.RegistryItem{constructor(d,f,y){super(),this.type=d,this.params=f,this.origin=y,this.getRegistryType=()=>o.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const _={};_[n.type]=this.type;const r=this.params.toDataItem();return r.setTag(this.params.getRegistryType().getTag()),_[n.params]=r,this.origin&&(_[n.origin]=this.origin),new v.DataItem(_)}}}t.QRHardwareCall=u,u.fromDataItem=h=>{const d=h.getData(),f=d[n.type]||e.KeyDerivation;let y;switch(f){case e.KeyDerivation:y=s.KeyDerivation.fromDataItem(d[n.params])}const _=d[n.origin];return new u(f,y,_)},u.fromCBOR=h=>{const d=(0,v.decodeToDataItem)(h);return u.fromDataItem(d)}}(hr)),hr}var yr={},Kn;function vo(){return Kn||(Kn=1,Object.defineProperty(yr,"__esModule",{value:!0})),yr}var jn;function bt(){return jn||(jn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.extend=t.PathComponent=t.ScriptExpressions=t.MultiKey=t.CryptoPSBT=t.CryptoOutput=t.CryptoECKey=t.CryptoCoinInfoNetwork=t.CryptoCoinInfoType=t.CryptoCoinInfo=t.CryptoKeypath=t.CryptoMultiAccounts=t.CryptoHDKey=t.CryptoAccount=t.Bytes=t.URRegistryDecoder=t.DataItem=void 0;const o=Za;Hr();const l=ft();Object.defineProperty(t,"Buffer",{enumerable:!0,get:function(){return l.Buffer}});const v=ut();Object.defineProperty(t,"CryptoHDKey",{enumerable:!0,get:function(){return v.CryptoHDKey}});const s=Tt();Object.defineProperty(t,"CryptoKeypath",{enumerable:!0,get:function(){return s.CryptoKeypath}});const n=br();Object.defineProperty(t,"CryptoCoinInfo",{enumerable:!0,get:function(){return n.CryptoCoinInfo}}),Object.defineProperty(t,"CryptoCoinInfoType",{enumerable:!0,get:function(){return n.Type}}),Object.defineProperty(t,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return n.Network}});const e=Ct();Object.defineProperty(t,"CryptoECKey",{enumerable:!0,get:function(){return e.CryptoECKey}});const u=yo();Object.defineProperty(t,"Bytes",{enumerable:!0,get:function(){return u.Bytes}});const h=En();Object.defineProperty(t,"CryptoOutput",{enumerable:!0,get:function(){return h.CryptoOutput}});const d=Dn();Object.defineProperty(t,"CryptoPSBT",{enumerable:!0,get:function(){return d.CryptoPSBT}});const f=Pn();Object.defineProperty(t,"CryptoAccount",{enumerable:!0,get:function(){return f.CryptoAccount}});const y=Mn();Object.defineProperty(t,"URRegistryDecoder",{enumerable:!0,get:function(){return y.URRegistryDecoder}});const _=Er();Object.defineProperty(t,"MultiKey",{enumerable:!0,get:function(){return _.MultiKey}});const r=Ir();Object.defineProperty(t,"ScriptExpressions",{enumerable:!0,get:function(){return r.ScriptExpressions}});const p=wr();Object.defineProperty(t,"PathComponent",{enumerable:!0,get:function(){return p.PathComponent}});const a=V(),c=X(),i=k();var g=k();Object.defineProperty(t,"DataItem",{enumerable:!0,get:function(){return g.DataItem}});const R=Cr(),w=Ln();Object.defineProperty(t,"CryptoMultiAccounts",{enumerable:!0,get:function(){return w.CryptoMultiAccounts}});const b={URRegistryDecoder:y.URRegistryDecoder,Bytes:u.Bytes,CryptoAccount:f.CryptoAccount,CryptoHDKey:v.CryptoHDKey,CryptoMultiAccounts:w.CryptoMultiAccounts,CryptoKeypath:s.CryptoKeypath,CryptoCoinInfo:n.CryptoCoinInfo,CryptoCoinInfoType:n.Type,CryptoCoinInfoNetwork:n.Network,CryptoECKey:e.CryptoECKey,CryptoOutput:h.CryptoOutput,CryptoPSBT:d.CryptoPSBT,MultiKey:_.MultiKey,ScriptExpressions:r.ScriptExpressions,PathComponent:p.PathComponent},O={addReader:i.addReader,addSemanticDecode:i.addSemanticDecode,addSemanticEncode:i.addSemanticEncode,addWriter:i.addWriter,patchTags:R.patchTags},m={RegistryTypes:c.RegistryTypes,RegistryItem:a.RegistryItem,RegistryType:c.RegistryType,decodeToDataItem:i.decodeToDataItem,encodeDataItem:i.encodeDataItem,cbor:O};t.extend=m,(0,o.__exportStar)(ua(),t),(0,o.__exportStar)(Mn(),t),(0,o.__exportStar)(k(),t),(0,o.__exportStar)(Pn(),t),(0,o.__exportStar)(Dn(),t),(0,o.__exportStar)(ut(),t),(0,o.__exportStar)(Ln(),t),(0,o.__exportStar)(go(),t),(0,o.__exportStar)(ca(),t),(0,o.__exportStar)(fa(),t),(0,o.__exportStar)(En(),t),(0,o.__exportStar)(br(),t),(0,o.__exportStar)(Ct(),t),(0,o.__exportStar)(Er(),t),(0,o.__exportStar)(Tt(),t),(0,o.__exportStar)(Hr(),t),(0,o.__exportStar)(wr(),t),(0,o.__exportStar)(V(),t),(0,o.__exportStar)(X(),t),(0,o.__exportStar)(vo(),t),(0,o.__exportStar)(Cr(),t),t.default=b}(Ut)),Ut}var gr={},Le={},gt={},Hn;function la(){if(Hn)return gt;Hn=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=l;let t;const o=new Uint8Array(16);function l(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(o)}return gt}var ce={},qe={},Ue={},Fn;function _o(){if(Fn)return Ue;Fn=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Ue.default=t,Ue}var kn;function wt(){if(kn)return qe;kn=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.default=void 0;var t=o(_o());function o(s){return s&&s.__esModule?s:{default:s}}function l(s){return typeof s=="string"&&t.default.test(s)}var v=l;return qe.default=v,qe}var Xn;function Et(){if(Xn)return ce;Xn=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0,ce.unsafeStringify=v;var t=o(wt());function o(e){return e&&e.__esModule?e:{default:e}}const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function v(e,u=0){return l[e[u+0]]+l[e[u+1]]+l[e[u+2]]+l[e[u+3]]+"-"+l[e[u+4]]+l[e[u+5]]+"-"+l[e[u+6]]+l[e[u+7]]+"-"+l[e[u+8]]+l[e[u+9]]+"-"+l[e[u+10]]+l[e[u+11]]+l[e[u+12]]+l[e[u+13]]+l[e[u+14]]+l[e[u+15]]}function s(e,u=0){const h=v(e,u);if(!(0,t.default)(h))throw TypeError("Stringified UUID is invalid");return h}var n=s;return ce.default=n,ce}var $n;function mo(){if($n)return Le;$n=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var t=l(la()),o=Et();function l(d){return d&&d.__esModule?d:{default:d}}let v,s,n=0,e=0;function u(d,f,y){let _=f&&y||0;const r=f||new Array(16);d=d||{};let p=d.node||v,a=d.clockseq!==void 0?d.clockseq:s;if(p==null||a==null){const b=d.random||(d.rng||t.default)();p==null&&(p=v=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),a==null&&(a=s=(b[6]<<8|b[7])&16383)}let c=d.msecs!==void 0?d.msecs:Date.now(),i=d.nsecs!==void 0?d.nsecs:e+1;const g=c-n+(i-e)/1e4;if(g<0&&d.clockseq===void 0&&(a=a+1&16383),(g<0||c>n)&&d.nsecs===void 0&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");n=c,e=i,s=a,c+=122192928e5;const R=((c&268435455)*1e4+i)%4294967296;r[_++]=R>>>24&255,r[_++]=R>>>16&255,r[_++]=R>>>8&255,r[_++]=R&255;const w=c/4294967296*1e4&268435455;r[_++]=w>>>8&255,r[_++]=w&255,r[_++]=w>>>24&15|16,r[_++]=w>>>16&255,r[_++]=a>>>8|128,r[_++]=a&255;for(let b=0;b<6;++b)r[_+b]=p[b];return f||(0,o.unsafeStringify)(r)}var h=u;return Le.default=h,Le}var xe={},z={},Ke={},Vn;function da(){if(Vn)return Ke;Vn=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var t=o(wt());function o(s){return s&&s.__esModule?s:{default:s}}function l(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");let n;const e=new Uint8Array(16);return e[0]=(n=parseInt(s.slice(0,8),16))>>>24,e[1]=n>>>16&255,e[2]=n>>>8&255,e[3]=n&255,e[4]=(n=parseInt(s.slice(9,13),16))>>>8,e[5]=n&255,e[6]=(n=parseInt(s.slice(14,18),16))>>>8,e[7]=n&255,e[8]=(n=parseInt(s.slice(19,23),16))>>>8,e[9]=n&255,e[10]=(n=parseInt(s.slice(24,36),16))/1099511627776&255,e[11]=n/4294967296&255,e[12]=n>>>24&255,e[13]=n>>>16&255,e[14]=n>>>8&255,e[15]=n&255,e}var v=l;return Ke.default=v,Ke}var Wn;function ha(){if(Wn)return z;Wn=1,Object.defineProperty(z,"__esModule",{value:!0}),z.URL=z.DNS=void 0,z.default=e;var t=Et(),o=l(da());function l(u){return u&&u.__esModule?u:{default:u}}function v(u){u=unescape(encodeURIComponent(u));const h=[];for(let d=0;d<u.length;++d)h.push(u.charCodeAt(d));return h}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";z.DNS=s;const n="6ba7b811-9dad-11d1-80b4-00c04fd430c8";z.URL=n;function e(u,h,d){function f(y,_,r,p){var a;if(typeof y=="string"&&(y=v(y)),typeof _=="string"&&(_=(0,o.default)(_)),((a=_)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+y.length);if(c.set(_),c.set(y,_.length),c=d(c),c[6]=c[6]&15|h,c[8]=c[8]&63|128,r){p=p||0;for(let i=0;i<16;++i)r[p+i]=c[i];return r}return(0,t.unsafeStringify)(c)}try{f.name=u}catch{}return f.DNS=s,f.URL=n,f}return z}var je={},Gn;function Ro(){if(Gn)return je;Gn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0;function t(r){if(typeof r=="string"){const p=unescape(encodeURIComponent(r));r=new Uint8Array(p.length);for(let a=0;a<p.length;++a)r[a]=p.charCodeAt(a)}return o(v(s(r),r.length*8))}function o(r){const p=[],a=r.length*32,c="0123456789abcdef";for(let i=0;i<a;i+=8){const g=r[i>>5]>>>i%32&255,R=parseInt(c.charAt(g>>>4&15)+c.charAt(g&15),16);p.push(R)}return p}function l(r){return(r+64>>>9<<4)+14+1}function v(r,p){r[p>>5]|=128<<p%32,r[l(p)-1]=p;let a=1732584193,c=-271733879,i=-1732584194,g=271733878;for(let R=0;R<r.length;R+=16){const w=a,b=c,O=i,m=g;a=h(a,c,i,g,r[R],7,-680876936),g=h(g,a,c,i,r[R+1],12,-389564586),i=h(i,g,a,c,r[R+2],17,606105819),c=h(c,i,g,a,r[R+3],22,-1044525330),a=h(a,c,i,g,r[R+4],7,-176418897),g=h(g,a,c,i,r[R+5],12,1200080426),i=h(i,g,a,c,r[R+6],17,-1473231341),c=h(c,i,g,a,r[R+7],22,-45705983),a=h(a,c,i,g,r[R+8],7,1770035416),g=h(g,a,c,i,r[R+9],12,-1958414417),i=h(i,g,a,c,r[R+10],17,-42063),c=h(c,i,g,a,r[R+11],22,-1990404162),a=h(a,c,i,g,r[R+12],7,1804603682),g=h(g,a,c,i,r[R+13],12,-40341101),i=h(i,g,a,c,r[R+14],17,-1502002290),c=h(c,i,g,a,r[R+15],22,1236535329),a=d(a,c,i,g,r[R+1],5,-165796510),g=d(g,a,c,i,r[R+6],9,-1069501632),i=d(i,g,a,c,r[R+11],14,643717713),c=d(c,i,g,a,r[R],20,-373897302),a=d(a,c,i,g,r[R+5],5,-701558691),g=d(g,a,c,i,r[R+10],9,38016083),i=d(i,g,a,c,r[R+15],14,-660478335),c=d(c,i,g,a,r[R+4],20,-405537848),a=d(a,c,i,g,r[R+9],5,568446438),g=d(g,a,c,i,r[R+14],9,-1019803690),i=d(i,g,a,c,r[R+3],14,-187363961),c=d(c,i,g,a,r[R+8],20,1163531501),a=d(a,c,i,g,r[R+13],5,-1444681467),g=d(g,a,c,i,r[R+2],9,-51403784),i=d(i,g,a,c,r[R+7],14,1735328473),c=d(c,i,g,a,r[R+12],20,-1926607734),a=f(a,c,i,g,r[R+5],4,-378558),g=f(g,a,c,i,r[R+8],11,-2022574463),i=f(i,g,a,c,r[R+11],16,1839030562),c=f(c,i,g,a,r[R+14],23,-35309556),a=f(a,c,i,g,r[R+1],4,-1530992060),g=f(g,a,c,i,r[R+4],11,1272893353),i=f(i,g,a,c,r[R+7],16,-155497632),c=f(c,i,g,a,r[R+10],23,-1094730640),a=f(a,c,i,g,r[R+13],4,681279174),g=f(g,a,c,i,r[R],11,-358537222),i=f(i,g,a,c,r[R+3],16,-722521979),c=f(c,i,g,a,r[R+6],23,76029189),a=f(a,c,i,g,r[R+9],4,-640364487),g=f(g,a,c,i,r[R+12],11,-421815835),i=f(i,g,a,c,r[R+15],16,530742520),c=f(c,i,g,a,r[R+2],23,-995338651),a=y(a,c,i,g,r[R],6,-198630844),g=y(g,a,c,i,r[R+7],10,1126891415),i=y(i,g,a,c,r[R+14],15,-1416354905),c=y(c,i,g,a,r[R+5],21,-57434055),a=y(a,c,i,g,r[R+12],6,1700485571),g=y(g,a,c,i,r[R+3],10,-1894986606),i=y(i,g,a,c,r[R+10],15,-1051523),c=y(c,i,g,a,r[R+1],21,-2054922799),a=y(a,c,i,g,r[R+8],6,1873313359),g=y(g,a,c,i,r[R+15],10,-30611744),i=y(i,g,a,c,r[R+6],15,-1560198380),c=y(c,i,g,a,r[R+13],21,1309151649),a=y(a,c,i,g,r[R+4],6,-145523070),g=y(g,a,c,i,r[R+11],10,-1120210379),i=y(i,g,a,c,r[R+2],15,718787259),c=y(c,i,g,a,r[R+9],21,-343485551),a=n(a,w),c=n(c,b),i=n(i,O),g=n(g,m)}return[a,c,i,g]}function s(r){if(r.length===0)return[];const p=r.length*8,a=new Uint32Array(l(p));for(let c=0;c<p;c+=8)a[c>>5]|=(r[c/8]&255)<<c%32;return a}function n(r,p){const a=(r&65535)+(p&65535);return(r>>16)+(p>>16)+(a>>16)<<16|a&65535}function e(r,p){return r<<p|r>>>32-p}function u(r,p,a,c,i,g){return n(e(n(n(p,r),n(c,g)),i),a)}function h(r,p,a,c,i,g,R){return u(p&a|~p&c,r,p,i,g,R)}function d(r,p,a,c,i,g,R){return u(p&c|a&~c,r,p,i,g,R)}function f(r,p,a,c,i,g,R){return u(p^a^c,r,p,i,g,R)}function y(r,p,a,c,i,g,R){return u(a^(p|~c),r,p,i,g,R)}var _=t;return je.default=_,je}var Yn;function To(){if(Yn)return xe;Yn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.default=void 0;var t=l(ha()),o=l(Ro());function l(n){return n&&n.__esModule?n:{default:n}}var s=(0,t.default)("v3",48,o.default);return xe.default=s,xe}var He={},Fe={},Zn;function Co(){if(Zn)return Fe;Zn=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=void 0;var o={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return Fe.default=o,Fe}var Qn;function So(){if(Qn)return He;Qn=1,Object.defineProperty(He,"__esModule",{value:!0}),He.default=void 0;var t=v(Co()),o=v(la()),l=Et();function v(e){return e&&e.__esModule?e:{default:e}}function s(e,u,h){if(t.default.randomUUID&&!u&&!e)return t.default.randomUUID();e=e||{};const d=e.random||(e.rng||o.default)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,u){h=h||0;for(let f=0;f<16;++f)u[h+f]=d[f];return u}return(0,l.unsafeStringify)(d)}var n=s;return He.default=n,He}var ke={},Xe={},Jn;function bo(){if(Jn)return Xe;Jn=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.default=void 0;function t(s,n,e,u){switch(s){case 0:return n&e^~n&u;case 1:return n^e^u;case 2:return n&e^n&u^e&u;case 3:return n^e^u}}function o(s,n){return s<<n|s>>>32-n}function l(s){const n=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){const f=unescape(encodeURIComponent(s));s=[];for(let y=0;y<f.length;++y)s.push(f.charCodeAt(y))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const u=s.length/4+2,h=Math.ceil(u/16),d=new Array(h);for(let f=0;f<h;++f){const y=new Uint32Array(16);for(let _=0;_<16;++_)y[_]=s[f*64+_*4]<<24|s[f*64+_*4+1]<<16|s[f*64+_*4+2]<<8|s[f*64+_*4+3];d[f]=y}d[h-1][14]=(s.length-1)*8/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=(s.length-1)*8&4294967295;for(let f=0;f<h;++f){const y=new Uint32Array(80);for(let i=0;i<16;++i)y[i]=d[f][i];for(let i=16;i<80;++i)y[i]=o(y[i-3]^y[i-8]^y[i-14]^y[i-16],1);let _=e[0],r=e[1],p=e[2],a=e[3],c=e[4];for(let i=0;i<80;++i){const g=Math.floor(i/20),R=o(_,5)+t(g,r,p,a)+c+n[g]+y[i]>>>0;c=a,a=p,p=o(r,30)>>>0,r=_,_=R}e[0]=e[0]+_>>>0,e[1]=e[1]+r>>>0,e[2]=e[2]+p>>>0,e[3]=e[3]+a>>>0,e[4]=e[4]+c>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var v=l;return Xe.default=v,Xe}var zn;function wo(){if(zn)return ke;zn=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0;var t=l(ha()),o=l(bo());function l(n){return n&&n.__esModule?n:{default:n}}var s=(0,t.default)("v5",80,o.default);return ke.default=s,ke}var $e={},ei;function Eo(){if(ei)return $e;ei=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.default=void 0;var t="00000000-0000-0000-0000-000000000000";return $e.default=t,$e}var Ve={},ti;function Oo(){if(ti)return Ve;ti=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.default=void 0;var t=o(wt());function o(s){return s&&s.__esModule?s:{default:s}}function l(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");return parseInt(s.slice(14,15),16)}var v=l;return Ve.default=v,Ve}var ri;function pa(){return ri||(ri=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.default}});var o=f(mo()),l=f(To()),v=f(So()),s=f(wo()),n=f(Eo()),e=f(Oo()),u=f(wt()),h=f(Et()),d=f(da());function f(y){return y&&y.__esModule?y:{default:y}}}(gr)),gr}var ni;function Do(){return ni||(ni=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var o=bt(),l=pa();const v={TRON_SIGN_REQUEST:new o.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new o.RegistryType("ton-signature",7202)},{decodeToDataItem:s,RegistryTypes:n}=o.extend;var e,u;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.derivationPath=4]="derivationPath",r[r.address=5]="address",r[r.origin=6]="origin"})(e||(e={})),(u=t.DataType||(t.DataType={}))[u.TRANSACTION=1]="TRANSACTION",u[u.SIGN_PROOF=2]="SIGN_PROOF";class h extends o.RegistryItem{constructor(p){super(),this.getRegistryType=()=>v.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const a={};if(a[e.signData]=this.signData,a[e.dataType]=this.dataType,this.derivationPath){const c=this.derivationPath.toDataItem();c.setTag(this.derivationPath.getRegistryType().getTag()),a[e.derivationPath]=c}return this.requestId&&(a[e.requestId]=new o.DataItem(this.requestId,n.UUID.getTag())),this.address&&(a[e.address]=this.address),this.origin&&(a[e.origin]=this.origin),new o.DataItem(a)},this.requestId=p.requestId,this.signData=p.signData,this.derivationPath=p.derivationPath,this.address=p.address,this.origin=p.origin,this.dataType=p.dataType}static parsePath(p,a){const c=p.replace(/[m|M]\//,"").split("/").map(i=>{const g=parseInt(i.replace("'",""));let R=!1;return i.endsWith("'")&&(R=!0),new o.PathComponent({index:g,hardened:R})});return new o.CryptoKeypath(c,N.Buffer.from(a,"hex"))}static constructTonRequest(p,a,c,i,g,R,w){return new h({requestId:i?N.Buffer.from(l.parse(i)):void 0,signData:p,dataType:a,derivationPath:w&&R?h.parsePath(w,R):void 0,address:c,origin:g})}}h.fromDataItem=r=>{const p=r.getData(),a=p[e.requestId]?p[e.requestId].getData():void 0,c=p[e.derivationPath]?o.CryptoKeypath.fromDataItem(p[e.derivationPath]):void 0;return new h({requestId:a,signData:p[e.signData],dataType:p[e.dataType],derivationPath:c,address:p[e.address],origin:p[e.origin]})},h.fromCBOR=r=>{const p=s(r);return h.fromDataItem(p)};const{RegistryTypes:d,decodeToDataItem:f}=o.extend;var y;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.origin=3]="origin"})(y||(y={}));class _ extends o.RegistryItem{constructor(p,a,c){super(),this.getRegistryType=()=>v.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const i={};return this.requestId&&(i[y.requestId]=new o.DataItem(this.requestId,d.UUID.getTag())),this.origin&&(i[y.origin]=this.origin),i[y.signature]=this.signature,new o.DataItem(i)},this.signature=p,this.requestId=a,this.origin=c}}_.fromDataItem=r=>{const p=r.getData(),a=p[y.signature];let c,i;return p[y.requestId]&&(c=p[y.requestId].getData()),p[y.origin]&&(i=p[y.origin]),new _(a,c,i)},_.fromCBOR=r=>{const p=f(r);return _.fromDataItem(p)},o.patchTags(Object.values(v).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(o).forEach(function(r){r!=="default"&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return o[r]}})}),t.TonSignRequest=h,t.TonSignature=_}(qt)),qt}var ii;function Io(){return ii||(ii=1,Lt.exports=Do()),Lt.exports}var ie={},Z={},We={},ai;function ya(){if(ai)return We;ai=1,Object.defineProperty(We,"__esModule",{value:!0}),We.getCoinSymbol=void 0;function t(o){var l;return(l={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[o])!==null&&l!==void 0?l:""}return We.getCoinSymbol=t,We}var oi;function Po(){return oi||(oi=1,function(t){var o=Z&&Z.__createBinding||(Object.create?function(y,_,r,p){p===void 0&&(p=r);var a=Object.getOwnPropertyDescriptor(_,r);(!a||("get"in a?!_.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return _[r]}}),Object.defineProperty(y,p,a)}:function(y,_,r,p){p===void 0&&(p=r),y[p]=_[r]}),l=Z&&Z.__setModuleDefault||(Object.create?function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}:function(y,_){y.default=_}),v=Z&&Z.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var r in y)r!=="default"&&Object.prototype.hasOwnProperty.call(y,r)&&o(_,y,r);return l(_,y),_},s=Z&&Z.__exportStar||function(y,_){for(var r in y)r!=="default"&&!Object.prototype.hasOwnProperty.call(_,r)&&o(_,y,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.parsePath=t.uuidStringify=t.uuidParse=t.toBuffer=t.toHex=t.uuid=void 0;const n=v(pa());t.uuid=n,s(ya(),t);function e(y){return y===void 0?"":N.Buffer.from(y).toString("hex")}t.toHex=e;function u(y){return N.Buffer.from(y??"","hex")}t.toBuffer=u;function h(y){return N.Buffer.from(n.parse(y))}t.uuidParse=h;function d(y){return n.stringify(y)}t.uuidStringify=d;function f(y){return y.replace(/^m\//i,"").split("/").map(r=>{const p=r.endsWith("'");return{index:Number(p?r.substring(0,r.length-1):r),hardened:p}})}t.parsePath=f}(Z)),Z}var Ge={},si;function Bo(){if(si)return Ge;si=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.pathToKeypath=void 0;const t=bt(),o=l=>{const s=l.replace(/[m|M]\//,"").split("/").map(n=>{const e=parseInt(n.replace("'",""),10),u=n.endsWith("'");return new t.PathComponent({index:e,hardened:u})});return new t.CryptoKeypath(s)};return Ge.pathToKeypath=o,Ge}var ui;function Ao(){return ui||(ui=1,function(t){var o=ie&&ie.__createBinding||(Object.create?function(v,s,n,e){e===void 0&&(e=n);var u=Object.getOwnPropertyDescriptor(s,n);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[n]}}),Object.defineProperty(v,e,u)}:function(v,s,n,e){e===void 0&&(e=n),v[e]=s[n]}),l=ie&&ie.__exportStar||function(v,s){for(var n in v)n!=="default"&&!Object.prototype.hasOwnProperty.call(s,n)&&o(s,v,n)};Object.defineProperty(t,"__esModule",{value:!0}),l(Po(),t),l(Bo(),t),l(ya(),t)}(ie)),ie}var vr={},fi;function Mo(){return fi||(fi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.URType=t.UR=void 0;var o=Br();Object.defineProperty(t,"UR",{enumerable:!0,get:function(){return o.UR}}),function(l){l.CryptoPSBT="crypto-psbt",l.CryptoMultiAccounts="crypto-multi-accounts",l.CryptoHDKey="crypto-hdkey",l.CryptoAccount="crypto-account",l.BtcSignature="btc-signature",l.ArweaveCryptoAccount="arweave-crypto-account",l.EthSignature="eth-signature",l.SolSignature="sol-signature",l.StellarSignature="stellar-signature",l.CosmosSignature="cosmos-signature",l.EvmSignature="evm-signature",l.AptosSignature="aptos-signature",l.CardanoSignature="cardano-signature",l.TronSignature="keystone-sign-result",l.KeystoneSignResult="keystone-sign-result",l.NearSignature="near-signature",l.ArweaveSignature="arweave-signature",l.SuiSignature="sui-signature",l.XrpAccount="bytes",l.XrpSignRequest="bytes",l.XrpSignature="bytes",l.TonSignature="ton-signature"}(t.URType||(t.URType={}))}(vr)),vr}var ci;function No(){if(ci)return _e;ci=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.KeystoneTonSDK=void 0;const t=Io(),o=Ao(),l=Mo();class v{constructor(n){this.config=n}parseSignature(n){if(n.type!==l.URType.TonSignature)throw new Error("type not match");const e=t.TonSignature.fromCBOR(n.cbor),u=e.getRequestId();return{requestId:N.Buffer.isBuffer(u)?(0,o.uuidStringify)(u):"",signature:(0,o.toHex)(e.getSignature()),origin:e.getOrigin()}}generateSignRequest({requestId:n,signData:e,dataType:u,xfp:h,derivationPath:d,address:f}){var y;return t.TonSignRequest.constructTonRequest((0,o.toBuffer)(e),u,f,n,(y=this.config)===null||y===void 0?void 0:y.origin,h,d).toUR()}}return v.DataType=t.DataType,_e.KeystoneTonSDK=v,_e}var Lo=No(),Ye={},_r={exports:{}},mr={},Rr={},Ze={},vt={},li;function ga(){if(li)return vt;li=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=l;let t;const o=new Uint8Array(16);function l(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(o)}return vt}var le={},Qe={},Je={},di;function qo(){if(di)return Je;di=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var t=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return Je.default=t,Je}var hi;function Ot(){if(hi)return Qe;hi=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var t=o(qo());function o(s){return s&&s.__esModule?s:{default:s}}function l(s){return typeof s=="string"&&t.default.test(s)}var v=l;return Qe.default=v,Qe}var pi;function Dt(){if(pi)return le;pi=1,Object.defineProperty(le,"__esModule",{value:!0}),le.default=void 0,le.unsafeStringify=v;var t=o(Ot());function o(e){return e&&e.__esModule?e:{default:e}}const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function v(e,u=0){return l[e[u+0]]+l[e[u+1]]+l[e[u+2]]+l[e[u+3]]+"-"+l[e[u+4]]+l[e[u+5]]+"-"+l[e[u+6]]+l[e[u+7]]+"-"+l[e[u+8]]+l[e[u+9]]+"-"+l[e[u+10]]+l[e[u+11]]+l[e[u+12]]+l[e[u+13]]+l[e[u+14]]+l[e[u+15]]}function s(e,u=0){const h=v(e,u);if(!(0,t.default)(h))throw TypeError("Stringified UUID is invalid");return h}var n=s;return le.default=n,le}var yi;function Uo(){if(yi)return Ze;yi=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.default=void 0;var t=l(ga()),o=Dt();function l(d){return d&&d.__esModule?d:{default:d}}let v,s,n=0,e=0;function u(d,f,y){let _=f&&y||0;const r=f||new Array(16);d=d||{};let p=d.node||v,a=d.clockseq!==void 0?d.clockseq:s;if(p==null||a==null){const b=d.random||(d.rng||t.default)();p==null&&(p=v=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),a==null&&(a=s=(b[6]<<8|b[7])&16383)}let c=d.msecs!==void 0?d.msecs:Date.now(),i=d.nsecs!==void 0?d.nsecs:e+1;const g=c-n+(i-e)/1e4;if(g<0&&d.clockseq===void 0&&(a=a+1&16383),(g<0||c>n)&&d.nsecs===void 0&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");n=c,e=i,s=a,c+=122192928e5;const R=((c&268435455)*1e4+i)%4294967296;r[_++]=R>>>24&255,r[_++]=R>>>16&255,r[_++]=R>>>8&255,r[_++]=R&255;const w=c/4294967296*1e4&268435455;r[_++]=w>>>8&255,r[_++]=w&255,r[_++]=w>>>24&15|16,r[_++]=w>>>16&255,r[_++]=a>>>8|128,r[_++]=a&255;for(let b=0;b<6;++b)r[_+b]=p[b];return f||(0,o.unsafeStringify)(r)}var h=u;return Ze.default=h,Ze}var ze={},ee={},et={},gi;function va(){if(gi)return et;gi=1,Object.defineProperty(et,"__esModule",{value:!0}),et.default=void 0;var t=o(Ot());function o(s){return s&&s.__esModule?s:{default:s}}function l(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");let n;const e=new Uint8Array(16);return e[0]=(n=parseInt(s.slice(0,8),16))>>>24,e[1]=n>>>16&255,e[2]=n>>>8&255,e[3]=n&255,e[4]=(n=parseInt(s.slice(9,13),16))>>>8,e[5]=n&255,e[6]=(n=parseInt(s.slice(14,18),16))>>>8,e[7]=n&255,e[8]=(n=parseInt(s.slice(19,23),16))>>>8,e[9]=n&255,e[10]=(n=parseInt(s.slice(24,36),16))/1099511627776&255,e[11]=n/4294967296&255,e[12]=n>>>24&255,e[13]=n>>>16&255,e[14]=n>>>8&255,e[15]=n&255,e}var v=l;return et.default=v,et}var vi;function _a(){if(vi)return ee;vi=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.URL=ee.DNS=void 0,ee.default=e;var t=Dt(),o=l(va());function l(u){return u&&u.__esModule?u:{default:u}}function v(u){u=unescape(encodeURIComponent(u));const h=[];for(let d=0;d<u.length;++d)h.push(u.charCodeAt(d));return h}const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ee.DNS=s;const n="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ee.URL=n;function e(u,h,d){function f(y,_,r,p){var a;if(typeof y=="string"&&(y=v(y)),typeof _=="string"&&(_=(0,o.default)(_)),((a=_)===null||a===void 0?void 0:a.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+y.length);if(c.set(_),c.set(y,_.length),c=d(c),c[6]=c[6]&15|h,c[8]=c[8]&63|128,r){p=p||0;for(let i=0;i<16;++i)r[p+i]=c[i];return r}return(0,t.unsafeStringify)(c)}try{f.name=u}catch{}return f.DNS=s,f.URL=n,f}return ee}var tt={},_i;function xo(){if(_i)return tt;_i=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=void 0;function t(r){if(typeof r=="string"){const p=unescape(encodeURIComponent(r));r=new Uint8Array(p.length);for(let a=0;a<p.length;++a)r[a]=p.charCodeAt(a)}return o(v(s(r),r.length*8))}function o(r){const p=[],a=r.length*32,c="0123456789abcdef";for(let i=0;i<a;i+=8){const g=r[i>>5]>>>i%32&255,R=parseInt(c.charAt(g>>>4&15)+c.charAt(g&15),16);p.push(R)}return p}function l(r){return(r+64>>>9<<4)+14+1}function v(r,p){r[p>>5]|=128<<p%32,r[l(p)-1]=p;let a=1732584193,c=-271733879,i=-1732584194,g=271733878;for(let R=0;R<r.length;R+=16){const w=a,b=c,O=i,m=g;a=h(a,c,i,g,r[R],7,-680876936),g=h(g,a,c,i,r[R+1],12,-389564586),i=h(i,g,a,c,r[R+2],17,606105819),c=h(c,i,g,a,r[R+3],22,-1044525330),a=h(a,c,i,g,r[R+4],7,-176418897),g=h(g,a,c,i,r[R+5],12,1200080426),i=h(i,g,a,c,r[R+6],17,-1473231341),c=h(c,i,g,a,r[R+7],22,-45705983),a=h(a,c,i,g,r[R+8],7,1770035416),g=h(g,a,c,i,r[R+9],12,-1958414417),i=h(i,g,a,c,r[R+10],17,-42063),c=h(c,i,g,a,r[R+11],22,-1990404162),a=h(a,c,i,g,r[R+12],7,1804603682),g=h(g,a,c,i,r[R+13],12,-40341101),i=h(i,g,a,c,r[R+14],17,-1502002290),c=h(c,i,g,a,r[R+15],22,1236535329),a=d(a,c,i,g,r[R+1],5,-165796510),g=d(g,a,c,i,r[R+6],9,-1069501632),i=d(i,g,a,c,r[R+11],14,643717713),c=d(c,i,g,a,r[R],20,-373897302),a=d(a,c,i,g,r[R+5],5,-701558691),g=d(g,a,c,i,r[R+10],9,38016083),i=d(i,g,a,c,r[R+15],14,-660478335),c=d(c,i,g,a,r[R+4],20,-405537848),a=d(a,c,i,g,r[R+9],5,568446438),g=d(g,a,c,i,r[R+14],9,-1019803690),i=d(i,g,a,c,r[R+3],14,-187363961),c=d(c,i,g,a,r[R+8],20,1163531501),a=d(a,c,i,g,r[R+13],5,-1444681467),g=d(g,a,c,i,r[R+2],9,-51403784),i=d(i,g,a,c,r[R+7],14,1735328473),c=d(c,i,g,a,r[R+12],20,-1926607734),a=f(a,c,i,g,r[R+5],4,-378558),g=f(g,a,c,i,r[R+8],11,-2022574463),i=f(i,g,a,c,r[R+11],16,1839030562),c=f(c,i,g,a,r[R+14],23,-35309556),a=f(a,c,i,g,r[R+1],4,-1530992060),g=f(g,a,c,i,r[R+4],11,1272893353),i=f(i,g,a,c,r[R+7],16,-155497632),c=f(c,i,g,a,r[R+10],23,-1094730640),a=f(a,c,i,g,r[R+13],4,681279174),g=f(g,a,c,i,r[R],11,-358537222),i=f(i,g,a,c,r[R+3],16,-722521979),c=f(c,i,g,a,r[R+6],23,76029189),a=f(a,c,i,g,r[R+9],4,-640364487),g=f(g,a,c,i,r[R+12],11,-421815835),i=f(i,g,a,c,r[R+15],16,530742520),c=f(c,i,g,a,r[R+2],23,-995338651),a=y(a,c,i,g,r[R],6,-198630844),g=y(g,a,c,i,r[R+7],10,1126891415),i=y(i,g,a,c,r[R+14],15,-1416354905),c=y(c,i,g,a,r[R+5],21,-57434055),a=y(a,c,i,g,r[R+12],6,1700485571),g=y(g,a,c,i,r[R+3],10,-1894986606),i=y(i,g,a,c,r[R+10],15,-1051523),c=y(c,i,g,a,r[R+1],21,-2054922799),a=y(a,c,i,g,r[R+8],6,1873313359),g=y(g,a,c,i,r[R+15],10,-30611744),i=y(i,g,a,c,r[R+6],15,-1560198380),c=y(c,i,g,a,r[R+13],21,1309151649),a=y(a,c,i,g,r[R+4],6,-145523070),g=y(g,a,c,i,r[R+11],10,-1120210379),i=y(i,g,a,c,r[R+2],15,718787259),c=y(c,i,g,a,r[R+9],21,-343485551),a=n(a,w),c=n(c,b),i=n(i,O),g=n(g,m)}return[a,c,i,g]}function s(r){if(r.length===0)return[];const p=r.length*8,a=new Uint32Array(l(p));for(let c=0;c<p;c+=8)a[c>>5]|=(r[c/8]&255)<<c%32;return a}function n(r,p){const a=(r&65535)+(p&65535);return(r>>16)+(p>>16)+(a>>16)<<16|a&65535}function e(r,p){return r<<p|r>>>32-p}function u(r,p,a,c,i,g){return n(e(n(n(p,r),n(c,g)),i),a)}function h(r,p,a,c,i,g,R){return u(p&a|~p&c,r,p,i,g,R)}function d(r,p,a,c,i,g,R){return u(p&c|a&~c,r,p,i,g,R)}function f(r,p,a,c,i,g,R){return u(p^a^c,r,p,i,g,R)}function y(r,p,a,c,i,g,R){return u(a^(p|~c),r,p,i,g,R)}var _=t;return tt.default=_,tt}var mi;function Ko(){if(mi)return ze;mi=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.default=void 0;var t=l(_a()),o=l(xo());function l(n){return n&&n.__esModule?n:{default:n}}var s=(0,t.default)("v3",48,o.default);return ze.default=s,ze}var rt={},nt={},Ri;function jo(){if(Ri)return nt;Ri=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=void 0;var o={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return nt.default=o,nt}var Ti;function Ho(){if(Ti)return rt;Ti=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var t=v(jo()),o=v(ga()),l=Dt();function v(e){return e&&e.__esModule?e:{default:e}}function s(e,u,h){if(t.default.randomUUID&&!u&&!e)return t.default.randomUUID();e=e||{};const d=e.random||(e.rng||o.default)();if(d[6]=d[6]&15|64,d[8]=d[8]&63|128,u){h=h||0;for(let f=0;f<16;++f)u[h+f]=d[f];return u}return(0,l.unsafeStringify)(d)}var n=s;return rt.default=n,rt}var it={},at={},Ci;function Fo(){if(Ci)return at;Ci=1,Object.defineProperty(at,"__esModule",{value:!0}),at.default=void 0;function t(s,n,e,u){switch(s){case 0:return n&e^~n&u;case 1:return n^e^u;case 2:return n&e^n&u^e&u;case 3:return n^e^u}}function o(s,n){return s<<n|s>>>32-n}function l(s){const n=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof s=="string"){const f=unescape(encodeURIComponent(s));s=[];for(let y=0;y<f.length;++y)s.push(f.charCodeAt(y))}else Array.isArray(s)||(s=Array.prototype.slice.call(s));s.push(128);const u=s.length/4+2,h=Math.ceil(u/16),d=new Array(h);for(let f=0;f<h;++f){const y=new Uint32Array(16);for(let _=0;_<16;++_)y[_]=s[f*64+_*4]<<24|s[f*64+_*4+1]<<16|s[f*64+_*4+2]<<8|s[f*64+_*4+3];d[f]=y}d[h-1][14]=(s.length-1)*8/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=(s.length-1)*8&4294967295;for(let f=0;f<h;++f){const y=new Uint32Array(80);for(let i=0;i<16;++i)y[i]=d[f][i];for(let i=16;i<80;++i)y[i]=o(y[i-3]^y[i-8]^y[i-14]^y[i-16],1);let _=e[0],r=e[1],p=e[2],a=e[3],c=e[4];for(let i=0;i<80;++i){const g=Math.floor(i/20),R=o(_,5)+t(g,r,p,a)+c+n[g]+y[i]>>>0;c=a,a=p,p=o(r,30)>>>0,r=_,_=R}e[0]=e[0]+_>>>0,e[1]=e[1]+r>>>0,e[2]=e[2]+p>>>0,e[3]=e[3]+a>>>0,e[4]=e[4]+c>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var v=l;return at.default=v,at}var Si;function ko(){if(Si)return it;Si=1,Object.defineProperty(it,"__esModule",{value:!0}),it.default=void 0;var t=l(_a()),o=l(Fo());function l(n){return n&&n.__esModule?n:{default:n}}var s=(0,t.default)("v5",80,o.default);return it.default=s,it}var ot={},bi;function Xo(){if(bi)return ot;bi=1,Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var t="00000000-0000-0000-0000-000000000000";return ot.default=t,ot}var st={},wi;function $o(){if(wi)return st;wi=1,Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var t=o(Ot());function o(s){return s&&s.__esModule?s:{default:s}}function l(s){if(!(0,t.default)(s))throw TypeError("Invalid UUID");return parseInt(s.slice(14,15),16)}var v=l;return st.default=v,st}var Ei;function Vo(){return Ei||(Ei=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return e.default}});var o=f(Uo()),l=f(Ko()),v=f(Ho()),s=f(ko()),n=f(Xo()),e=f($o()),u=f(Ot()),h=f(Dt()),d=f(va());function f(y){return y&&y.__esModule?y:{default:y}}}(Rr)),Rr}var Oi;function Wo(){return Oi||(Oi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var o=wa(),l=Vo();const v={TRON_SIGN_REQUEST:new o.RegistryType("ton-sign-request",7201),TRON_SIGNATURE:new o.RegistryType("ton-signature",7202)},{decodeToDataItem:s,RegistryTypes:n}=o.extend;var e,u;(function(r){r[r.requestId=1]="requestId",r[r.signData=2]="signData",r[r.dataType=3]="dataType",r[r.derivationPath=4]="derivationPath",r[r.address=5]="address",r[r.origin=6]="origin"})(e||(e={})),(u=t.DataType||(t.DataType={}))[u.TRANSACTION=1]="TRANSACTION",u[u.SIGN_PROOF=2]="SIGN_PROOF";class h extends o.RegistryItem{constructor(p){super(),this.getRegistryType=()=>v.TRON_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath?this.derivationPath.getPath():void 0,this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getDataType=()=>this.dataType,this.toDataItem=()=>{const a={};if(a[e.signData]=this.signData,a[e.dataType]=this.dataType,this.derivationPath){const c=this.derivationPath.toDataItem();c.setTag(this.derivationPath.getRegistryType().getTag()),a[e.derivationPath]=c}return this.requestId&&(a[e.requestId]=new o.DataItem(this.requestId,n.UUID.getTag())),this.address&&(a[e.address]=this.address),this.origin&&(a[e.origin]=this.origin),new o.DataItem(a)},this.requestId=p.requestId,this.signData=p.signData,this.derivationPath=p.derivationPath,this.address=p.address,this.origin=p.origin,this.dataType=p.dataType}static parsePath(p,a){const c=p.replace(/[m|M]\//,"").split("/").map(i=>{const g=parseInt(i.replace("'",""));let R=!1;return i.endsWith("'")&&(R=!0),new o.PathComponent({index:g,hardened:R})});return new o.CryptoKeypath(c,N.Buffer.from(a,"hex"))}static constructTonRequest(p,a,c,i,g,R,w){return new h({requestId:i?N.Buffer.from(l.parse(i)):void 0,signData:p,dataType:a,derivationPath:w&&R?h.parsePath(w,R):void 0,address:c,origin:g})}}h.fromDataItem=r=>{const p=r.getData(),a=p[e.requestId]?p[e.requestId].getData():void 0,c=p[e.derivationPath]?o.CryptoKeypath.fromDataItem(p[e.derivationPath]):void 0;return new h({requestId:a,signData:p[e.signData],dataType:p[e.dataType],derivationPath:c,address:p[e.address],origin:p[e.origin]})},h.fromCBOR=r=>{const p=s(r);return h.fromDataItem(p)};const{RegistryTypes:d,decodeToDataItem:f}=o.extend;var y;(function(r){r[r.requestId=1]="requestId",r[r.signature=2]="signature",r[r.origin=3]="origin"})(y||(y={}));class _ extends o.RegistryItem{constructor(p,a,c){super(),this.getRegistryType=()=>v.TRON_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{const i={};return this.requestId&&(i[y.requestId]=new o.DataItem(this.requestId,d.UUID.getTag())),this.origin&&(i[y.origin]=this.origin),i[y.signature]=this.signature,new o.DataItem(i)},this.signature=p,this.requestId=a,this.origin=c}}_.fromDataItem=r=>{const p=r.getData(),a=p[y.signature];let c,i;return p[y.requestId]&&(c=p[y.requestId].getData()),p[y.origin]&&(i=p[y.origin]),new _(a,c,i)},_.fromCBOR=r=>{const p=f(r);return _.fromDataItem(p)},o.patchTags(Object.values(v).filter(r=>!!r.getTag()).map(r=>r.getTag())),Object.keys(o).forEach(function(r){r!=="default"&&Object.defineProperty(t,r,{enumerable:!0,get:function(){return o[r]}})}),t.TonSignRequest=h,t.TonSignature=_}(mr)),mr}var Di;function Go(){return Di||(Di=1,_r.exports=Wo()),_r.exports}var Ii;function Yo(){if(Ii)return Ye;Ii=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.KeystoneTonSDK=void 0;const t=Go(),o=Ea(),l=Oa();class v{constructor(n){this.config=n}parseSignature(n){if(n.type!==l.URType.TonSignature)throw new Error("type not match");const e=t.TonSignature.fromCBOR(n.cbor),u=e.getRequestId();return{requestId:N.Buffer.isBuffer(u)?(0,o.uuidStringify)(u):"",signature:(0,o.toHex)(e.getSignature()),origin:e.getOrigin()}}generateSignRequest({requestId:n,signData:e,dataType:u,xfp:h,derivationPath:d,address:f}){var y;return t.TonSignRequest.constructTonRequest((0,o.toBuffer)(e),u,f,n,(y=this.config)===null||y===void 0?void 0:y.origin,h,d).toUR()}}return v.DataType=t.DataType,Ye.KeystoneTonSDK=v,Ye}var Zo=Yo();const Qo=(t,o,l,v)=>new Zo.KeystoneTonSDK({origin:"TonKeeper"}).generateSignRequest({signData:t.toString("hex"),dataType:o==="transaction"?1:2,address:l,xfp:v==null?void 0:v.mfp,derivationPath:v==null?void 0:v.path}),Jo=({sdk:t,transactionParams:o,onClose:l,handleResult:v})=>{const s=Da(),{t:n}=Ia(),{extension:e}=Pa();Ha(t,l);const u=J.useCallback(f=>{const y=new Lo.KeystoneTonSDK().parseSignature(f);v(y.signature)},[]),h=Ba(null,u),d=J.useMemo(()=>Qo(o.message,o.messageType,Aa(s.rawAddress),o.pathInfo),[o]);return ae.jsxs(Ma,{onSubmit:f=>{f.preventDefault(),f.stopPropagation(),h()},children:[ae.jsx(xa,{title:n("keystone_sign_title"),description:n("keystone_sign_subtitle")}),ae.jsx(Ka,{extension:e,margin:!0,children:ae.jsx(ja,{data:d})}),ae.jsx(Na,{primary:!0,size:"large",fullWidth:!0,type:"submit",children:n("signer_scan_result")})]})},vs=()=>{const t=La(),[o,l]=J.useState(void 0),[v,s]=J.useState(void 0),n=J.useCallback(()=>{l(void 0),s(void 0)},[]),e=J.useCallback(d=>{t.uiEvents.emit("response",{method:"response",id:v,params:d}),n()},[t,v,n]),u=J.useCallback(()=>{v&&t.uiEvents.emit("response",{method:"response",id:v,params:new Error("Cancel auth request")}),n()},[v,t,n]);J.useEffect(()=>{const d=f=>{l(f.params),s(f.id)};return t.uiEvents.on("keystone",d),()=>{t.uiEvents.off("keystone",d)}},[t]);const h=J.useCallback(()=>{if(!(!o||!v))return ae.jsx(Jo,{sdk:t,transactionParams:o,onClose:u,handleResult:e})},[t,o,v,u,e]);return ae.jsx(qa,{isOpen:o!=null&&v!=null,handleClose:u,children:h})};export{Jo as SignerContent,vs as default};
