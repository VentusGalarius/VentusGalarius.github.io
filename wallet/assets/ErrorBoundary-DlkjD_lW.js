import{j as d,r as c}from"./index-pFCF53l2.js";function y(n){return({error:e})=>d.jsxs("div",{role:"alert",children:[d.jsx("p",{children:n}),d.jsx("p",{children:"Something went wrong:"}),d.jsx("pre",{style:{color:"red"},children:e.message})]})}const p=c.createContext(null),l={didCatch:!1,error:null};class E extends c.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=l}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(...e){var r,t;const{error:s}=this.state;s!==null&&((t=(r=this.props).onReset)==null||t.call(r,{args:e,reason:"imperative-api"}),this.setState(l))}componentDidCatch(e,s){var r,t;(t=(r=this.props).onError)==null||t.call(r,e,s)}componentDidUpdate(e,s){var i,o;const{didCatch:r}=this.state,{resetKeys:t}=this.props;r&&s.error!==null&&u(e.resetKeys,t)&&((o=(i=this.props).onReset)==null||o.call(i,{next:t,prev:e.resetKeys,reason:"keys"}),this.setState(l))}render(){const{children:e,fallbackRender:s,FallbackComponent:r,fallback:t}=this.props,{didCatch:i,error:o}=this.state;let a=e;if(i){const h={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof s=="function")a=s(h);else if(r)a=c.createElement(r,h);else if(t!==void 0)a=t;else throw o}return c.createElement(p.Provider,{value:{didCatch:i,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function u(n=[],e=[]){return n.length!==e.length||n.some((s,r)=>!Object.is(s,e[r]))}export{E,y as f};
